<!DOCTYPE html>
<html>
<head>
    <title>E-store Example // MuleSoft Documentation </title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="/css/asciidoctor.css">
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css" />
    <link rel="stylesheet/less" type="text/css" href="/css/styles.less" />
    <link rel="stylesheet/less" type="text/css" href="/css/scroll-menu.less" />
    <link rel="stylesheet/less" type="text/css" href="/css/sidebar-menu.less" />
    <link rel="stylesheet/less" type="text/css" href="/css/sub-header.less" />
    <link rel="stylesheet/less" type="text/css" href="/css/article-content.less" />
    <link rel="stylesheet" type="text/css" href="/css/ms-com-header-footer.css">
    <script src="/js/less.js"></script>
    <script src="/js/jquery-1.11.2.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/jquery.fancybox.pack.js"></script>
    <script src="/js/scripts.js"></script>
    <meta charset="utf-8">
    <link rel="canonical" href="https://docs.mulesoft.com/mule-user-guide/v/3.3/e-store-example" />
    <meta name="description" content="Enterprise Edition This example application simulates an online store that demonstrates Mule ESB’s ability to support common e-commerce use cases. ..." />
    <meta class="swiftype" name="title" data-type="string" content="E-store Example" />

</head>
<body>
<!-- START Swiftype -->
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','-xsEiLzurJT1cpZtjMyP','2.0.0');
</script>
<style>
.st-autocomplete-results, .st-ui-autocomplete {
  font-family: "OpenSans", Helvetica, Arial, sans-serif;
  width: 340px;
}

.st-ui-search-input, .st-default-search-input {
  color: white;
}
</style>
<!-- END Swiftype -->
<!-- START header -->
<header class="row header" data-swiftype-index='false'>
<div class="header__wrapper clearfix" data-swiftype-index='false'>

      <div class="header__top-wrapper">

        <div class="header__nav-wrapper">

          <a href="http://developer.mulesoft.com" title="Home" rel="home" class="header__logo" id="logo">
            <img src="/img/mulesoft-dev-logo.svg" alt="Home" class="header__logo-image" />
          </a>


            <div class="region region-header-top">
    <div id="block-block-1" class="block block-block first odd">


  <a class="green-button" href="https://anypoint.mulesoft.com/#/signup?apintent=dmc_generic">Get started</a>

<div class="mulecom"><a href="https://www.mulesoft.com">MuleSoft.com</a></div>
</div>
<div id="block-system-main-menu" class="block block-system block-menu even" role="navigation" data-swiftype-index='false'>

        <h2 class="block__title block-title">Main menu</h2>

  <ul class="menu"><li class="menu__item is-leaf first leaf"><a href="https://developer.mulesoft.com/anypoint-platform" title="" class="menu__link">Platform</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/docs" title="" class="menu__link active">Documentation</a></li>
<li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/community" title="" class="menu__link">Community</a></li>
<li class="menu__item is-leaf last leaf"><a href="http://blog.mulesoft.com/" title="" class="menu__link">Blog</a></li>
</ul>
</div>
<div id="block-search-form" class="block block-search last odd" role="search" data-swiftype-index='false'>


  <form onsubmit="if(this.search_block_form.value==&#039;Search&#039;){ alert(&#039;Please enter a search&#039;); return false; }" action="https://developer.mulesoft.com/search-results" method="get" id="search-block-form--2" accept-charset="UTF-8"><div><div class="container-inline">
      <h2 class="element-invisible">Search form</h2>
    <div class="form-item form-type-searchfield form-item-as-q">
  <label class="element-invisible" for="edit-search-block-form--4">Search </label>
 <input title="Enter the terms you wish to search for." onblur="if (this.value == &#039;&#039;) {this.value = &#039;Search&#039;;}" onfocus="if (this.value == &#039;Search&#039;) {this.value = &#039;&#039;;}" placeholder="Search" type="search" id="edit-search-block-form--4" name="as_q" value="" size="15" maxlength="128" class="form-text form-search" />
</div>
<div class="search-icon icon-muletheme-search2"></div><div class="form-actions form-wrapper" id="edit-actions--2"><input type="submit" id="edit-submit--2" name="op" value="Search" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form-5nVfE5w91A8I2BXU5-kgcy6bchv0cnErVarB6sb1lSE" />
<input type="hidden" name="form_id" value="search_block_form" />
<input type="hidden" name="cx" value="009167469708926298605:hwtkd-ufwfq" />
<input type="hidden" name="cof" value="FORID:10" />
<input type="hidden" name="ie" value="UTF-8" />
</div>
</div></form>
</div>
  </div>
        </div>

      </div> <!-- header__secondary-nav-search -->

      <div class="header__logo--primary-nav clearfix">

        <a href="#sidr" id="open-left">
          <div class="icon-muletheme-navicon"></div>
        </a>


      </div> <!-- header__logo--primary-nav -->

    </div>
  </header>
<!-- /DUMMY HEADER -->

<div class="container">
    <div class="row sub-header" data-swiftype-index='false'>
      <div class="search-box col-md-3 col-xs-8">
          <form action="">
              <i class="glyphicon glyphicon-search"></i><input class="search-field st-ui-search-input st-default-search-input" type="text" name="search-docs" placeholder="Search the docs">
              <input type="submit" value="Submit">
          </form>
      </div>
      <div class="toolbar col-md-4 col-xs-4">
          <div class="toolbar-dropdown show-hide-sidebar">
              <a href="#" class="tree-icon glyphicon glyphicon-th-list"><span>Nav</span></a>
          </div>
          <div class="toolbar-dropdown edit-github">
              <a href="https://github.com/mulesoft/mulesoft-docs/blob/master/mule-user-guide/v/3.3/e-store-example.adoc" target="_blank"><span>Edit on GitHub</span></a>
          </div>
          <div class="toolbar-dropdown helpful">
              <button class="btn btn-default dropdown-toggle" type="button" id="dropdown-helpful" data-toggle="dropdown" aria-expanded="true">
                  <i class="star-empty"></i><span>Helpful?</span>
              </button>

              <ul class="dropdown-menu" role="menu" aria-labelledby="dropdown-helpful">
                  <li role="presentation">
                      <i class="star-empty"></i>
                      <i class="star-empty"></i>
                      <i class="star-empty"></i>
                      <i class="star-empty"></i>
                      <i class="star-empty"></i>
                  </li>
                  <li role="message">
                    <span class="error">Was this topic helpful?</span>
                  </li>
                  <li role="presentation"><textarea name="feedback-textarea" id="" cols="30" rows="5" placeholder="Feedback..."></textarea></li>
                  <li role="presentation"><input type="submit" value="Submit"></li>
              </ul>
          </div>
      </div>
      <div class="version-selector col-md-5 col-xs-12">
          <label for="version-selector">Mule User Guide Version</label><select onChange="window.location.href=this.value" id="version-selector"><option value="/mule-user-guide/v/3.3">3.3 (Active)</option><option value="/mule-user-guide/v/3.7">3.7 (Latest)</option><option value="/mule-user-guide/v/3.6">3.6</option><option value="/mule-user-guide/v/3.5">3.5</option><option value="/mule-user-guide/v/3.4">3.4</option><option value="/mule-user-guide/v/3.2">3.2</option></select>

      </div>
    </div>
    <div class="row">
        <div class="sidebar-nav col-md-3" data-swiftype-index='false'>
            <div class="marker"></div>
            <div class="active-marker"></div>
            <nav>
                <ul class="tree">
                  <li>
<i></i>
<a href="/mule-fundamentals/v/3.7/">Mule Fundamentals</a><ul>
<li>
<i></i>
<a href="/mule-fundamentals/v/3.7/first-30-minutes-with-mule">First 30 Minutes with Mule</a><ul>
<li><i></i><a href="/mule-fundamentals/v/3.7/anypoint-platform-primer">Anypoint Platform Primer</a></li><li><i></i><a href="/mule-fundamentals/v/3.7/begin-with-the-basics">Begin with the Basics</a></li><li><i></i><a href="/mule-fundamentals/v/3.7/download-and-launch-anypoint-studio">Download and Launch Anypoint Studio</a></li><li><i></i><a href="/mule-fundamentals/v/3.7/anypoint-studio-essentials">Anypoint Studio Essentials</a></li><li><i></i><a href="/mule-fundamentals/v/3.7/build-a-hello-world-application">Build a Hello World Application</a></li><li><i></i><a href="/mule-fundamentals/v/3.7/anypoint-exchange">Anypoint Exchange</a></li></ul></li>
<li>
<i></i>
<a href="/mule-fundamentals/v/3.7/first-day-with-mule">First Day with Mule</a><ul>
<li><i></i><a href="/mule-fundamentals/v/3.7/mule-concepts">Mule Concepts</a></li><li>
<i></i>
<a href="/mule-fundamentals/v/3.7/elements-in-a-mule-flow">Elements in a Mule Flow</a><ul>
<li><i></i><a href="/mule-fundamentals/v/3.7/mule-connectors">Mule Connectors</a></li><li><i></i><a href="/mule-fundamentals/v/3.7/mule-components">Mule Components</a></li><li><i></i><a href="/mule-fundamentals/v/3.7/mule-transformers">Mule Transformers</a></li><li><i></i><a href="/mule-fundamentals/v/3.7/mule-filters-scopes-and-routers">Mule Filters Scopes and Routers</a></li><li><i></i><a href="/mule-fundamentals/v/3.7/mule-exception-strategies">Mule Exception Strategies</a></li></ul></li>
<li><i></i><a href="/mule-fundamentals/v/3.7/mule-message-structure">Mule Message Structure</a></li><li><i></i><a href="/mule-fundamentals/v/3.7/message-state">Message State</a></li><li><i></i><a href="/mule-fundamentals/v/3.7/global-elements">Global Elements</a></li><li><i></i><a href="/mule-fundamentals/v/3.7/basic-studio-tutorial">Basic Studio Tutorial</a></li><li><i></i><a href="/mule-fundamentals/v/3.7/content-based-routing-tutorial">Content-Based Routing Tutorial</a></li><li><i></i><a href="/mule-fundamentals/v/3.7/anypoint-connector-tutorial">Anypoint Connector Tutorial</a></li><li><i></i><a href="/mule-fundamentals/v/3.7/mule-message-tutorial">Mule Message Tutorial</a></li></ul></li>
<li>
<i></i>
<a href="/mule-fundamentals/v/3.7/first-week-with-mule">First Week with Mule</a><ul>
<li><i></i><a href="/mule-fundamentals/v/3.7/mule-application-architecture">Mule Application Architecture</a></li><li>
<i></i>
<a href="/mule-fundamentals/v/3.7/flows-and-subflows">Flows and Subflows</a><ul>
<li><i></i><a href="/mule-fundamentals/v/3.7/flow-architecture-advanced-use-case">Flow Architecture Advanced Use Case</a></li></ul></li>
<li><i></i><a href="/mule-fundamentals/v/3.7/deploying-mule-applications">Deploying Mule Applications</a></li><li><i></i><a href="/mule-fundamentals/v/3.7/keyboard-shortcuts-in-studio">Keyboard Shortcuts in Studio</a></li><li><i></i><a href="/mule-fundamentals/v/3.7/mule-security">Security in Mule</a></li><li><i></i><a href="/mule-fundamentals/v/3.7/extending-mule">Extending Mule</a></li></ul></li>
</ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/">Mule User Guide</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/compatibility">Compatibility</a></li><li><i></i><a href="/mule-user-guide/v/3.3/choosing-your-development-environment">Choosing Your Development Environment</a></li><li><i></i><a href="/mule-user-guide/v/3.3/downloading-mule-esb-3">Downloading Mule ESB 3</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/installing-mule-esb-3-infrastructure">Installing Mule ESB 3 Infrastructure</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/installing-and-endorsing-the-jdk">Installing and Endorsing the JDK</a></li><li><i></i><a href="/mule-user-guide/v/3.3/setting-up-eclipse-for-use-with-maven">Setting Up Eclipse for Use with Maven</a></li><li><i></i><a href="/mule-user-guide/v/3.3/mule-maven-dependencies">Mule-Maven Dependencies</a></li></ul></li>
<li><i></i><a href="/mule-user-guide/v/3.3/installing-mule-esb-3-and-the-mule-ide">Installing Mule ESB 3 and the Mule IDE</a></li><li><i></i><a href="/mule-user-guide/v/3.3/installing-a-commercial-license">Installing a Commercial License</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/running-mule-esb-3">Running Mule ESB 3</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/running-mule-from-the-command-prompt">Running Mule From the Command Prompt</a></li><li><i></i><a href="/mule-user-guide/v/3.3/alternate-ways-of-running-mule">Alternate Ways of Running Mule</a></li><li><i></i><a href="/mule-user-guide/v/3.3/controlling-mule-from-startup">Controlling Mule From Startup</a></li><li><i></i><a href="/mule-user-guide/v/3.3/running-multiple-mule-instances">Running Multiple Mule Instances</a></li><li><i></i><a href="/mule-user-guide/v/3.3/updating-a-running-application">Updating a Running Application</a></li></ul></li>
<li><i></i><a href="/mule-user-guide/v/3.3/stopping-mule-esb-3">Stopping Mule ESB 3</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/essentials-of-using-mule-esb-3">Essentials of Using Mule ESB 3</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/mule-application-architecture">Mule Application Architecture</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/understanding-mule-configuration">Understanding Mule Configuration</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/about-the-xml-configuration-file">About the XML Configuration File</a></li></ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/choosing-between-flows-and-patterns">Choosing Between Flows and Patterns</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/using-flows-for-service-orchestration">Using Flows for Service Orchestration</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/using-mule-configuration-patterns">Using Mule Configuration Patterns</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/pattern-based-configuration">Pattern-Based Configuration</a></li><li><i></i><a href="/mule-user-guide/v/3.3/simple-service-pattern">Simple Service Pattern</a></li><li><i></i><a href="/mule-user-guide/v/3.3/bridge-pattern">Bridge Pattern</a></li><li><i></i><a href="/mule-user-guide/v/3.3/validator-pattern">Validator Pattern</a></li><li><i></i><a href="/mule-user-guide/v/3.3/web-service-proxy-pattern">Web Service Proxy Pattern</a></li><li><i></i><a href="/mule-user-guide/v/3.3/http-proxy-pattern">HTTP Proxy Pattern</a></li></ul></li>
</ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/message-sources-and-message-processors">Message Sources and Message Processors</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/routing-message-processors">Routing Message Processors</a></li><li><i></i><a href="/mule-user-guide/v/3.3/message-enricher">Message Enricher</a></li></ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/configuring-components">Configuring Components</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/configuring-java-components">Configuring Java Components</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/developing-components">Developing Components</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/entry-point-resolver-configuration-reference">Entry Point Resolver Configuration Reference</a></li></ul></li>
<li><i></i><a href="/mule-user-guide/v/3.3/component-bindings">Component Bindings</a></li><li><i></i><a href="/mule-user-guide/v/3.3/using-interceptors">Using Interceptors</a></li></ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/connecting-using-transports">Connecting Using Transports</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/configuring-a-transport">Configuring a Transport</a></li></ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/configuring-endpoints">Configuring Endpoints</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/mule-endpoint-uris">Mule Endpoint URIs</a></li></ul></li>
<li><i></i><a href="/mule-user-guide/v/3.3/using-filters">Using Filters</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/using-transformers">Using Transformers</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/transformers-configuration-reference">Transformers Configuration Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/native-support-for-json">Native Support for JSON</a></li><li><i></i><a href="/mule-user-guide/v/3.3/xmlprettyprinter-transformer">XmlPrettyPrinter Transformer</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/creating-custom-transformers">Creating Custom Transformers</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/creating-flow-objects-and-transformers-using-annotations">Creating Flow Objects and Transformers Using Annotations</a></li><li><i></i><a href="/mule-user-guide/v/3.3/function-annotation">Function Annotation</a></li><li><i></i><a href="/mule-user-guide/v/3.3/groovy-annotation">Groovy Annotation</a></li><li><i></i><a href="/mule-user-guide/v/3.3/inboundattachments-annotation">InboundAttachments Annotation</a></li><li><i></i><a href="/mule-user-guide/v/3.3/inboundheaders-annotation">InboundHeaders Annotation</a></li><li><i></i><a href="/mule-user-guide/v/3.3/lookup-annotation">Lookup Annotation</a></li><li><i></i><a href="/mule-user-guide/v/3.3/mule-annotation">Mule Annotation</a></li><li><i></i><a href="/mule-user-guide/v/3.3/outboundattachments-annotation">OutboundAttachments Annotation</a></li><li><i></i><a href="/mule-user-guide/v/3.3/outboundheaders-annotation">OutboundHeaders Annotation</a></li><li><i></i><a href="/mule-user-guide/v/3.3/payload-annotation">Payload Annotation</a></li><li><i></i><a href="/mule-user-guide/v/3.3/schedule-annotation">Schedule Annotation</a></li><li><i></i><a href="/mule-user-guide/v/3.3/transformer-annotation">Transformer Annotation</a></li><li><i></i><a href="/mule-user-guide/v/3.3/xpath-annotation">XPath Annotation</a></li><li><i></i><a href="/mule-user-guide/v/3.3/creating-custom-transformer-classes">Creating Custom Transformer Classes</a></li></ul></li>
</ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/mule-expression-language-mel">Mule Expression Language MEL</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/using-non-mel-expressions">Using Non-MEL Expressions</a></li><li><i></i><a href="/mule-user-guide/v/3.3/creating-non-mel-expression-evaluators">Creating Non-MEL Expression Evaluators</a></li><li><i></i><a href="/mule-user-guide/v/3.3/mel-cheat-sheet">MEL Cheat Sheet</a></li></ul></li>
<li><i></i><a href="/mule-user-guide/v/3.3/transaction-management">Transaction Management</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/configuring-security">Configuring Security</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/configuring-the-spring-security-manager">Configuring the Spring Security Manager</a></li><li><i></i><a href="/mule-user-guide/v/3.3/component-authorization-using-spring-security">Component Authorization Using Spring Security</a></li><li><i></i><a href="/mule-user-guide/v/3.3/setting-up-ldap-provider-for-spring-security">Setting up LDAP Provider for Spring Security</a></li><li><i></i><a href="/mule-user-guide/v/3.3/upgrading-from-acegi-to-spring-security">Upgrading from Acegi to Spring Security</a></li><li><i></i><a href="/mule-user-guide/v/3.3/encryption-strategies">Encryption Strategies</a></li><li><i></i><a href="/mule-user-guide/v/3.3/pgp-security">PGP Security</a></li><li><i></i><a href="/mule-user-guide/v/3.3/jaas-security">Jaas Security</a></li><li><i></i><a href="/mule-user-guide/v/3.3/saml-module">SAML Module</a></li></ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/error-handling">Error Handling</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/catch-exception-strategy">Catch Exception Strategy</a></li><li><i></i><a href="/mule-user-guide/v/3.3/rollback-exception-strategy">Rollback Exception Strategy</a></li><li><i></i><a href="/mule-user-guide/v/3.3/reference-exception-strategy">Reference Exception Strategy</a></li><li><i></i><a href="/mule-user-guide/v/3.3/choice-exception-strategy">Choice Exception Strategy</a></li><li><i></i><a href="/mule-user-guide/v/3.3/exception-strategy-most-common-use-cases">Exception Strategy Most Common Use Cases</a></li></ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/using-web-services">Using Web Services</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/proxying-web-services">Proxying Web Services</a></li><li><i></i><a href="/mule-user-guide/v/3.3/using-.net-web-services-with-mule">Using .NET Web Services with Mule</a></li><li><i></i><a href="/mule-user-guide/v/3.3/web-service-wrapper">Web Service Wrapper</a></li></ul></li>
</ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/anypoint-enterprise-security">Anypoint Enterprise Security</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/installing-anypoint-enterprise-security">Installing Anypoint Enterprise Security</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/mule-secure-token-service">Mule Secure Token Service</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/creating-an-oauth-2.0a-web-service-provider">Creating an OAuth 2.0a Web Service Provider</a></li><li><i></i><a href="/mule-user-guide/v/3.3/authorization-grant-types">Authorization Grant Types</a></li></ul></li>
<li><i></i><a href="/mule-user-guide/v/3.3/mule-credentials-vault">Mule Credentials Vault</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/mule-message-encryption-processor">Mule Message Encryption Processor</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/pgp-encrypter">PGP Encrypter</a></li></ul></li>
<li><i></i><a href="/mule-user-guide/v/3.3/mule-digital-signature-processor">Mule Digital Signature Processor</a></li><li><i></i><a href="/mule-user-guide/v/3.3/mule-filter-processor">Mule Filter Processor</a></li><li><i></i><a href="/mule-user-guide/v/3.3/mule-crc32-processor">Mule CRC32 Processor</a></li><li><i></i><a href="/mule-user-guide/v/3.3/anypoint-enterprise-security-example-application">Anypoint Enterprise Security Example Application</a></li><li><i></i><a href="/mule-user-guide/v/3.3/mule-sts-oauth-2.0a-example-application">Mule STS OAuth 2.0a Example Application</a></li></ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/advanced-usage-of-mule-esb">Advanced Usage of Mule ESB</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/storing-objects-in-the-registry">Storing Objects in the Registry</a></li><li><i></i><a href="/mule-user-guide/v/3.3/object-scopes">Object Scopes</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/using-mule-with-spring">Using Mule with Spring</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/sending-and-receiving-mule-events-in-spring">Sending and Receiving Mule Events in Spring</a></li><li><i></i><a href="/mule-user-guide/v/3.3/spring-application-contexts">Spring Application Contexts</a></li><li><i></i><a href="/mule-user-guide/v/3.3/using-spring-beans-as-flow-components">Using Spring Beans as Flow Components</a></li></ul></li>
<li><i></i><a href="/mule-user-guide/v/3.3/configuring-properties">Configuring Properties</a></li><li><i></i><a href="/mule-user-guide/v/3.3/streaming">Streaming</a></li><li><i></i><a href="/mule-user-guide/v/3.3/about-configuration-builders">About Configuration Builders</a></li><li><i></i><a href="/mule-user-guide/v/3.3/internationalizing-strings">Internationalizing Strings</a></li><li><i></i><a href="/mule-user-guide/v/3.3/bootstrapping-the-registry">Bootstrapping the Registry</a></li><li><i></i><a href="/mule-user-guide/v/3.3/tuning-performance">Tuning Performance</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/mule-agents">Mule Agents</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/agent-security-disabled-weak-ciphers">Agent Security: Disabled Weak Ciphers</a></li><li><i></i><a href="/mule-user-guide/v/3.3/jmx-management">JMX Management</a></li></ul></li>
<li><i></i><a href="/mule-user-guide/v/3.3/mule-object-stores">Mule Object Stores</a></li><li><i></i><a href="/mule-user-guide/v/3.3/flow-processing-strategies">Flow Processing Strategies</a></li><li><i></i><a href="/mule-user-guide/v/3.3/configuring-reconnection-strategies">Configuring Reconnection Strategies</a></li><li><i></i><a href="/mule-user-guide/v/3.3/using-the-mule-client">Using the Mule Client</a></li><li><i></i><a href="/mule-user-guide/v/3.3/passing-additional-arguments-to-the-jvm-to-control-mule">Passing Additional Arguments to the JVM to Control Mule</a></li></ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/mule-high-availability-ha-clusters">Mule High Availability HA Clusters</a><ul>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/evaluating-mule-high-availability-clusters-demo">Evaluating Mule High Availability Clusters Demo</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/1-installing-the-demo-bundle">1 - Installing the Demo Bundle</a></li><li><i></i><a href="/mule-user-guide/v/3.3/2-creating-a-cluster">2 - Creating a Cluster</a></li><li><i></i><a href="/mule-user-guide/v/3.3/3-deploying-an-application">3 - Deploying an Application</a></li><li><i></i><a href="/mule-user-guide/v/3.3/4-applying-load-to-the-cluster">4 - Applying Load to the Cluster</a></li><li><i></i><a href="/mule-user-guide/v/3.3/5-witnessing-failover">5 - Witnessing Failover</a></li><li><i></i><a href="/mule-user-guide/v/3.3/6-troubleshooting-and-next-steps">6 - Troubleshooting and Next Steps</a></li></ul></li>
</ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/extending-mule-esb-3">Extending Mule ESB 3</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/extending-components">Extending Components</a></li><li><i></i><a href="/mule-user-guide/v/3.3/custom-message-processors">Custom Message Processors</a></li><li><i></i><a href="/mule-user-guide/v/3.3/creating-example-archetypes">Creating Example Archetypes</a></li><li><i></i><a href="/mule-user-guide/v/3.3/creating-a-custom-xml-namespace">Creating a Custom XML Namespace</a></li><li><i></i><a href="/mule-user-guide/v/3.3/creating-module-archetypes">Creating Module Archetypes</a></li><li><i></i><a href="/mule-user-guide/v/3.3/creating-catalog-archetypes">Creating Catalog Archetypes</a></li><li><i></i><a href="/mule-user-guide/v/3.3/creating-project-archetypes">Creating Project Archetypes</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/creating-transports">Creating Transports</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/transport-archetype">Transport Archetype</a></li><li><i></i><a href="/mule-user-guide/v/3.3/transport-service-descriptors">Transport Service Descriptors</a></li></ul></li>
<li><i></i><a href="/mule-user-guide/v/3.3/creating-custom-routers">Creating Custom Routers</a></li></ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/deploying-mule-esb-3">Deploying Mule ESB 3</a><ul>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/deployment-scenarios">Deployment Scenarios</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/choosing-the-right-topology">Choosing the Right Topology</a></li><li><i></i><a href="/mule-user-guide/v/3.3/embedding-mule-in-a-java-application-or-webapp">Embedding Mule in a Java Application or Webapp</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/deploying-mule-to-jboss">Deploying Mule to JBoss</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/mule-as-mbean">Mule as MBean</a></li></ul></li>
<li><i></i><a href="/mule-user-guide/v/3.3/deploying-mule-to-weblogic">Deploying Mule to WebLogic</a></li><li><i></i><a href="/mule-user-guide/v/3.3/deploying-mule-to-websphere">Deploying Mule to WebSphere</a></li><li><i></i><a href="/mule-user-guide/v/3.3/deploying-mule-as-a-service-to-tomcat">Deploying Mule as a Service to Tomcat</a></li><li><i></i><a href="/mule-user-guide/v/3.3/application-server-based-hot-deployment">Application Server Based Hot Deployment</a></li><li><i></i><a href="/mule-user-guide/v/3.3/classloader-control-in-mule">Classloader Control in Mule</a></li></ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/mule-deployment-model">Mule Deployment Model</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/hot-deployment">Hot Deployment</a></li><li><i></i><a href="/mule-user-guide/v/3.3/application-deployment">Application Deployment</a></li><li><i></i><a href="/mule-user-guide/v/3.3/application-format">Application Format</a></li><li><i></i><a href="/mule-user-guide/v/3.3/deployment-descriptor">Deployment Descriptor</a></li></ul></li>
<li><i></i><a href="/mule-user-guide/v/3.3/configuring-logging">Configuring Logging</a></li><li><i></i><a href="/mule-user-guide/v/3.3/mule-server-notifications">Mule Server Notifications</a></li><li><i></i><a href="/mule-user-guide/v/3.3/profiling-mule">Profiling Mule</a></li><li><i></i><a href="/mule-user-guide/v/3.3/hardening-your-mule-installation">Hardening your Mule Installation</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/configuring-mule-for-different-deployment-scenarios">Configuring Mule for Different Deployment Scenarios</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/configuring-mule-as-a-linux-or-unix-daemon">Configuring Mule as a Linux or Unix Daemon</a></li><li><i></i><a href="/mule-user-guide/v/3.3/configuring-mule-as-a-windows-service">Configuring Mule as a Windows Service</a></li><li><i></i><a href="/mule-user-guide/v/3.3/configuring-mule-to-run-from-a-script">Configuring Mule to Run From a Script</a></li><li><i></i><a href="/mule-user-guide/v/3.3/configuring-mule-to-run-from-maven">Configuring Mule to Run From Maven</a></li></ul></li>
</ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/testing-with-mule-esb-3">Testing With Mule ESB 3</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/introduction-to-testing-mule">Introduction to Testing Mule</a></li><li><i></i><a href="/mule-user-guide/v/3.3/unit-testing">Unit Testing</a></li><li><i></i><a href="/mule-user-guide/v/3.3/functional-testing">Functional Testing</a></li><li><i></i><a href="/mule-user-guide/v/3.3/testing-strategies">Testing Strategies</a></li></ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/troubleshooting-mule">Troubleshooting Mule</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/configuring-mule-stacktraces">Configuring Mule Stacktraces</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/logging">Logging</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/logging-with-mule-esb-3.x">Logging With Mule ESB 3.x</a></li></ul></li>
<li><i></i><a href="/mule-user-guide/v/3.3/step-debugging">Step Debugging</a></li></ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/team-development-with-mule">Team Development with Mule</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/modularizing-your-configuration-files-for-team-development">Modularizing Your Configuration Files for Team Development</a></li><li><i></i><a href="/mule-user-guide/v/3.3/using-side-by-side-configuration-files">Using Side-by-Side Configuration Files</a></li><li><i></i><a href="/mule-user-guide/v/3.3/using-parameters-in-your-configuration-files">Using Parameters in Your Configuration Files</a></li><li><i></i><a href="/mule-user-guide/v/3.3/using-modules-in-your-application">Using Modules In Your Application</a></li><li><i></i><a href="/mule-user-guide/v/3.3/sharing-custom-code">Sharing Custom Code</a></li><li><i></i><a href="/mule-user-guide/v/3.3/sharing-custom-configuration-fragments">Sharing Custom Configuration Fragments</a></li><li><i></i><a href="/mule-user-guide/v/3.3/sharing-custom-configuration-patterns">Sharing Custom Configuration Patterns</a></li><li><i></i><a href="/mule-user-guide/v/3.3/sharing-applications">Sharing Applications</a></li></ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/sustainable-software-development-practices-with-mule">Sustainable Software Development Practices with Mule</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/reproducible-builds">Reproducible Builds</a></li><li><i></i><a href="/mule-user-guide/v/3.3/continuous-integration">Continuous Integration</a></li><li><i></i><a href="/mule-user-guide/v/3.3/repeatable-deploys">Repeatable Deploys</a></li></ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/reference-materials-for-mule-esb-3">Reference Materials for Mule ESB 3</a><ul>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/configuration-reference">Configuration Reference</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/component-configuration-reference">Component Configuration Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/endpoint-configuration-reference">Endpoint Configuration Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/exception-strategy-configuration-reference">Exception Strategy Configuration Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/bpm-configuration-reference">BPM Configuration Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/filters-configuration-reference">Filters Configuration Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/global-settings-configuration-reference">Global Settings Configuration Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/notifications-configuration-reference">Notifications Configuration Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/properties-configuration-reference">Properties Configuration Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/security-manager-configuration-reference">Security Manager Configuration Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/transactions-configuration-reference">Transactions Configuration Reference</a></li></ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/transports-reference">Transports Reference</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/ajax-transport-reference">AJAX Transport Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/ejb-transport-reference">EJB Transport Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/email-transport-reference">Email Transport Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/file-transport-reference">File Transport Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/ftp-transport-reference">FTP Transport Reference</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/mulesoft-enterprise-java-connector-for-sap-reference">MuleSoft Enterprise Java Connector for SAP Reference</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/sap-jco-extended-properties">SAP JCo Extended Properties</a></li><li><i></i><a href="/mule-user-guide/v/3.3/sap-jco-server-services-configuration">SAP JCo Server Services Configuration</a></li></ul></li>
<li><i></i><a href="/mule-user-guide/v/3.3/http-transport-reference">HTTP Transport Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/https-transport-reference">HTTPS Transport Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/imap-transport-reference">IMAP Transport Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/jdbc-transport-reference">JDBC Transport Reference</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/jetty-transport-reference">Jetty Transport Reference</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/jetty-ssl-transport">Jetty SSL Transport</a></li></ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/jms-transport-reference">JMS Transport Reference</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/activemq-integration">ActiveMQ Integration</a></li><li><i></i><a href="/mule-user-guide/v/3.3/fiorano-integration">Fiorano Integration</a></li><li><i></i><a href="/mule-user-guide/v/3.3/hornetq-integration">HornetQ Integration</a></li><li><i></i><a href="/mule-user-guide/v/3.3/jboss-jms-integration">JBoss Jms Integration</a></li><li><i></i><a href="/mule-user-guide/v/3.3/open-mq-integration">Open MQ Integration</a></li><li><i></i><a href="/mule-user-guide/v/3.3/openjms-integration">OpenJms Integration</a></li><li><i></i><a href="/mule-user-guide/v/3.3/seebeyond-jms-server-integration">SeeBeyond JMS Server Integration</a></li><li><i></i><a href="/mule-user-guide/v/3.3/sonicmq-integration">SonicMQ Integration</a></li><li><i></i><a href="/mule-user-guide/v/3.3/sun-jms-grid-integration">Sun JMS Grid Integration</a></li><li><i></i><a href="/mule-user-guide/v/3.3/swiftmq-integration">SwiftMQ Integration</a></li><li><i></i><a href="/mule-user-guide/v/3.3/tibco-ems-integration">Tibco EMS Integration</a></li><li><i></i><a href="/mule-user-guide/v/3.3/weblogic-jms-integration">WebLogic JMS Integration</a></li></ul></li>
<li><i></i><a href="/mule-user-guide/v/3.3/multicast-transport-reference">Multicast Transport Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/pop3-transport-reference">POP3 Transport Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/quartz-transport-reference">Quartz Transport Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/rmi-transport-reference">RMI Transport Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/servlet-transport-reference">Servlet Transport Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/sftp-transport-reference">SFTP Transport Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/smtp-transport-reference">SMTP Transport Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/ssl-and-tls-transports-reference">SSL and TLS Transports Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/stdio-transport-reference">STDIO Transport Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/tcp-transport-reference">TCP Transport Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/udp-transport-reference">UDP Transport Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/vm-transport-reference">VM Transport Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/mule-wmq-transport-reference">Mule WMQ Transport Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/wsdl-connectors">WSDL Connectors</a></li><li><i></i><a href="/mule-user-guide/v/3.3/xmpp-transport-reference">XMPP Transport Reference</a></li></ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/modules-reference">Modules Reference</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/atom-module-reference">Atom Module Reference</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/bpm-module-reference">BPM Module Reference</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/drools-module-reference">Drools Module Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/jboss-jbpm-module-reference">JBoss jBPM Module Reference</a></li></ul></li>
<li>
<i></i>
<a href="/mule-user-guide/v/3.3/cxf-module-reference">CXF Module Reference</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/cxf-error-handling">CXF Error Handling</a></li><li><i></i><a href="/mule-user-guide/v/3.3/cxf-module-configuration-reference">CXF Module Configuration Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/cxf-module-overview">CXF Module Overview</a></li><li><i></i><a href="/mule-user-guide/v/3.3/building-web-services-with-cxf">Building Web Services with CXF</a></li><li><i></i><a href="/mule-user-guide/v/3.3/consuming-web-services-with-cxf">Consuming Web Services with CXF</a></li><li><i></i><a href="/mule-user-guide/v/3.3/enabling-ws-addressing">Enabling WS-Addressing</a></li><li><i></i><a href="/mule-user-guide/v/3.3/enabling-ws-security">Enabling WS-Security</a></li><li><i></i><a href="/mule-user-guide/v/3.3/proxying-web-services-with-cxf">Proxying Web Services with CXF</a></li><li><i></i><a href="/mule-user-guide/v/3.3/supported-web-service-standards">Supported Web Service Standards</a></li><li><i></i><a href="/mule-user-guide/v/3.3/using-a-web-service-client-directly">Using a Web Service Client Directly</a></li><li><i></i><a href="/mule-user-guide/v/3.3/using-http-get-requests">Using HTTP GET Requests</a></li><li><i></i><a href="/mule-user-guide/v/3.3/using-mtom">Using MTOM</a></li></ul></li>
<li><i></i><a href="/mule-user-guide/v/3.3/data-bindings-reference">Data Bindings Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/jaas-module-reference">JAAS Module Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/jboss-transaction-manager-reference">JBoss Transaction Manager Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/jersey-module-reference">Jersey Module Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/json-module-reference">JSON Module Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/rss-module-reference">RSS Module Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/scripting-module-reference">Scripting Module Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/spring-extras-module-reference">Spring Extras Module Reference</a></li><li><i></i><a href="/mule-user-guide/v/3.3/sxc-module-reference">SXC Module Reference</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/xml-module-reference">XML Module Reference</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/domtoxml-transformer">DomToXml Transformer</a></li><li><i></i><a href="/mule-user-guide/v/3.3/jaxb-bindings">JAXB Bindings</a></li><li><i></i><a href="/mule-user-guide/v/3.3/jaxb-transformers">JAXB Transformers</a></li><li><i></i><a href="/mule-user-guide/v/3.3/jxpath-extractor-transformer">JXPath Extractor Transformer</a></li><li><i></i><a href="/mule-user-guide/v/3.3/xml-namespaces">XML Namespaces</a></li><li><i></i><a href="/mule-user-guide/v/3.3/xmlobject-transformers">XmlObject Transformers</a></li><li><i></i><a href="/mule-user-guide/v/3.3/xmltoxmlstreamreader-transformer">XmlToXMLStreamReader Transformer</a></li><li><i></i><a href="/mule-user-guide/v/3.3/xpath-extractor-transformer">XPath Extractor Transformer</a></li><li><i></i><a href="/mule-user-guide/v/3.3/xquery-support">XQuery Support</a></li><li><i></i><a href="/mule-user-guide/v/3.3/xquery-transformer">XQuery Transformer</a></li><li><i></i><a href="/mule-user-guide/v/3.3/xslt-transformer">XSLT Transformer</a></li></ul></li>
</ul></li>
<li><i></i><a href="/mule-user-guide/v/3.3/non-mel-expressions-configuration-reference">Non-MEL Expressions Configuration Reference</a></li><li>
<i></i>
<a href="/mule-user-guide/v/3.3/schema-documentation">Schema Documentation</a><ul>
<li><i></i><a href="/mule-user-guide/v/3.3/notes-on-mule-3.0-schema-changes">Notes on Mule 3.0 Schema Changes</a></li></ul></li>
<li><i></i><a href="/mule-user-guide/v/3.3/mule-esb-3-and-test-api-javadoc">Mule ESB 3 and Test API Javadoc</a></li><li><i></i><a href="/mule-user-guide/v/3.3/platforms-and-technologies-compatible-with-mule-esb">Platforms and Technologies Compatible with Mule ESB</a></li><li><i></i><a href="/mule-user-guide/v/3.3/mulesoft-security-update-policy">MuleSoft Security Update Policy</a></li></ul></li>
</ul></li>
<li>
<i></i>
<a href="/mule-agent/v/1.2.0/">Mule Agent</a><ul>
<li><i></i><a href="/mule-agent/v/1.2.0/installing-mule-agent">Installing the Mule Agent</a></li><li><i></i><a href="/mule-agent/v/1.2.0/mule-agent-architecture">Mule Agent Architecture</a></li><li><i></i><a href="/mule-agent/v/1.2.0/administration-service">Administration Service</a></li><li><i></i><a href="/mule-agent/v/1.2.0/managing-applications-and-domains">Managing Applications and Domains</a></li><li><i></i><a href="/mule-agent/v/1.2.0/event-tracking">Event Tracking</a></li><li><i></i><a href="/mule-agent/v/1.2.0/jmx-service">JMX Service</a></li><li><i></i><a href="/mule-agent/v/1.2.0/mule-agent-notifications">Mule Agent Notifications</a></li><li><i></i><a href="/mule-agent/v/1.2.0/extending-the-mule-agent">Extending the Mule Agent</a></li><li><i></i><a href="/mule-agent/v/1.2.0/internal-handler-buffering">Internal Handler Buffering</a></li><li><i></i><a href="/mule-agent/v/1.2.0/configuring-a-proxy-for-the-mule-agent">Configuring a Proxy for the Mule Agent</a></li></ul></li>
<li>
<i></i>
<a href="/mule-management-console/v/3.7/">Mule Management Console</a><ul>
<li><i></i><a href="/mule-management-console/v/3.7/installing-the-trial-version-of-mmc">Installing the Trial Version of MMC</a></li><li>
<i></i>
<a href="/mule-management-console/v/3.7/installing-the-production-version-of-mmc">Installing the Production Version of MMC</a><ul>
<li><i></i><a href="/mule-management-console/v/3.7/installing-and-deploying-mmc-to-weblogic">Installing and Deploying MMC to Weblogic</a></li><li><i></i><a href="/mule-management-console/v/3.7/installing-and-deploying-mmc-to-websphere">Installing and Deploying MMC to WebSphere</a></li></ul></li>
<li>
<i></i>
<a href="/mule-management-console/v/3.7/upgrading-the-management-console">Upgrading the Management Console</a><ul>
<li><i></i><a href="/mule-management-console/v/3.7/configuration-files-for-ldap-and-external-dbs-in-mmc-before-and-after-3.4.2">Configuration Files for LDAP and External DBs in MMC Before and After 3.4.2</a></li><li><i></i><a href="/mule-management-console/v/3.7/migration-scripts-for-business-events">Migration Scripts for Business Events</a></li><li><i></i><a href="/mule-management-console/v/3.7/upgrading-to-mmc-with-an-external-database">Upgrading to MMC with an External Database</a></li><li><i></i><a href="/mule-management-console/v/3.7/upgrading-to-mmc-with-ldap">Upgrading to MMC with LDAP</a></li><li><i></i><a href="/mule-management-console/v/3.7/upgrading-from-mmc-3.4.1-for-ms-sql-server-to-latest-mmc-for-ms-sql-server">Upgrading from MMC 3.4.1 for MS-SQL Server to the Latest MMC for MS-SQL Server</a></li></ul></li>
<li><i></i><a href="/mule-management-console/v/3.7/orientation-to-the-console">Orientation to the Console</a></li><li><i></i><a href="/mule-management-console/v/3.7/mmc-walkthrough">MMC Walkthrough</a></li><li><i></i><a href="/mule-management-console/v/3.7/architecture-of-the-mule-management-console">Architecture of the Mule Management Console</a></li><li>
<i></i>
<a href="/mule-management-console/v/3.7/setting-up-mmc">Setting Up MMC</a><ul>
<li><i></i><a href="/mule-management-console/v/3.7/setting-up-mmc-mule-esb-communications">Setting Up MMC-Mule ESB Communications</a></li><li>
<i></i>
<a href="/mule-management-console/v/3.7/persisting-mmc-data-on-external-databases">Persisting MMC Data On External Databases</a><ul>
<li><i></i><a href="/mule-management-console/v/3.7/configuring-mmc-for-external-databases-quick-reference">Configuring MMC for External Databases - Quick Reference</a></li><li><i></i><a href="/mule-management-console/v/3.7/persisting-mmc-data-to-ms-sql-server">Persisting MMC Data to MS SQL Server</a></li><li><i></i><a href="/mule-management-console/v/3.7/persisting-mmc-data-to-mysql">Persisting MMC Data to MySQL</a></li><li><i></i><a href="/mule-management-console/v/3.7/persisting-mmc-data-to-oracle">Persisting MMC Data to Oracle</a></li><li><i></i><a href="/mule-management-console/v/3.7/persisting-mmc-data-to-postgresql">Persisting MMC Data to PostgreSQL</a></li></ul></li>
<li><i></i><a href="/mule-management-console/v/3.7/encrypting-ldap-and-database-passwords-in-mmc">Encrypting LDAP and Database Passwords in MMC</a></li><li>
<i></i>
<a href="/mule-management-console/v/3.7/managing-mmc-users-and-roles">Managing MMC Users and Roles</a><ul>
<li>
<i></i>
<a href="/mule-management-console/v/3.7/setting-up-and-managing-users-in-mmc">Setting Up and Managing Users in MMC</a><ul>
<li><i></i><a href="/mule-management-console/v/3.7/encrypting-mmc-user-passwords">Encrypting MMC User Passwords</a></li></ul></li>
<li><i></i><a href="/mule-management-console/v/3.7/setting-up-and-managing-users-via-ldap">Setting Up and Managing Users via LDAP</a></li></ul></li>
</ul></li>
<li><i></i><a href="/mule-management-console/v/3.7/deploying-applications">Deploying Applications</a></li><li>
<i></i>
<a href="/mule-management-console/v/3.7/managing-with-mmc">Managing with MMC</a><ul>
<li><i></i><a href="/mule-management-console/v/3.7/managing-mule-servers-clusters-and-groups">Managing Mule Servers Clusters and Groups</a></li><li><i></i><a href="/mule-management-console/v/3.7/maintaining-the-server-application-repository">Maintaining the Server Application Repository</a></li><li><i></i><a href="/mule-management-console/v/3.7/working-with-flows">Working with Flows</a></li><li>
<i></i>
<a href="/mule-management-console/v/3.7/managing-mule-high-availability-ha-clusters">Managing Mule High Availability (HA) Clusters</a><ul>
<li><i></i><a href="/mule-management-console/v/3.7/configuring-mule-ha-clustering">Configuring Mule HA Clustering</a></li><li><i></i><a href="/mule-management-console/v/3.7/creating-or-disbanding-a-cluster">Creating or Disbanding a Cluster</a></li><li><i></i><a href="/mule-management-console/v/3.7/deploying-redeploying-or-undeploying-an-application-to-or-from-a-cluster">Deploying, Redeploying, or Undeploying an Application To or From a Cluster</a></li><li><i></i><a href="/mule-management-console/v/3.7/dynamically-adding-or-removing-nodes-in-a-cluster">Dynamically Adding or Removing Nodes in a Cluster</a></li><li><i></i><a href="/mule-management-console/v/3.7/monitoring-a-cluster">Monitoring a Cluster</a></li><li><i></i><a href="/mule-management-console/v/3.7/reliability-patterns">Reliability Patterns</a></li></ul></li>
</ul></li>
<li>
<i></i>
<a href="/mule-management-console/v/3.7/mmc-rest-api">MMC REST API</a><ul>
<li>
<i></i>
<a href="/mule-management-console/v/3.7/rest-api-reference">REST API Reference</a><ul>
<li><i></i><a href="/mule-management-console/v/3.7/clusters">Clusters</a></li><li><i></i><a href="/mule-management-console/v/3.7/deployments">Deployments</a></li><li><i></i><a href="/mule-management-console/v/3.7/repository-of-applications">Repository of Applications</a></li><li><i></i><a href="/mule-management-console/v/3.7/server-groups">Server Groups</a></li><li><i></i><a href="/mule-management-console/v/3.7/servers">Servers</a></li><li><i></i><a href="/mule-management-console/v/3.7/user-groups">User Groups</a></li></ul></li>
<li><i></i><a href="/mule-management-console/v/3.7/using-the-management-console-api">Using the Management Console API</a></li></ul></li>
<li>
<i></i>
<a href="/mule-management-console/v/3.7/monitoring-with-mmc">Monitoring with MMC</a><ul>
<li>
<i></i>
<a href="/mule-management-console/v/3.7/monitoring-a-server">Monitoring a Server</a><ul>
<li><i></i><a href="/mule-management-console/v/3.7/monitoring-applications">Monitoring Applications</a></li><li><i></i><a href="/mule-management-console/v/3.7/viewing-server-alerts">Viewing Server Alerts</a></li><li><i></i><a href="/mule-management-console/v/3.7/viewing-system-memory">Viewing System Memory</a></li><li><i></i><a href="/mule-management-console/v/3.7/viewing-threads">Viewing Threads</a></li><li><i></i><a href="/mule-management-console/v/3.7/viewing-server-pools">Viewing Server Pools</a></li><li><i></i><a href="/mule-management-console/v/3.7/working-with-the-server-configuration-files">Working with the Server Configuration Files</a></li><li><i></i><a href="/mule-management-console/v/3.7/viewing-server-properties">Viewing Server Properties</a></li><li><i></i><a href="/mule-management-console/v/3.7/editing-server-settings">Editing Server Settings</a></li><li><i></i><a href="/mule-management-console/v/3.7/customizing-server-metrics-dashboard">Customizing Server Metrics Dashboard</a></li></ul></li>
<li><i></i><a href="/mule-management-console/v/3.7/working-with-alerts">Working With Alerts</a></li><li><i></i><a href="/mule-management-console/v/3.7/defining-slas-and-alerts">Defining SLAs and Alerts</a></li><li><i></i><a href="/mule-management-console/v/3.7/adding-and-managing-alerts-and-slas">Adding and Managing Alerts and SLAs</a></li><li><i></i><a href="/mule-management-console/v/3.7/setting-up-alert-destinations-and-notifications">Setting Up Alert Destinations and Notifications</a></li><li>
<i></i>
<a href="/mule-management-console/v/3.7/analyzing-business-events">Analyzing Business Events</a><ul>
<li><i></i><a href="/mule-management-console/v/3.7/business-events-use-cases">Business Events Use Cases</a></li><li><i></i><a href="/mule-management-console/v/3.7/tracking-and-querying-business-events">Tracking and Querying Business Events</a></li></ul></li>
<li><i></i><a href="/mule-management-console/v/3.7/analyzing-flow-processing-and-payloads">Analyzing Flow Processing and Payloads</a></li><li><i></i><a href="/mule-management-console/v/3.7/viewing-server-os-resources">Viewing Server OS Resources</a></li><li><i></i><a href="/mule-management-console/v/3.7/viewing-jmx-information">Viewing JMX Information</a></li><li><i></i><a href="/mule-management-console/v/3.7/customizing-the-dashboard">Customizing the Dashboard</a></li></ul></li>
<li>
<i></i>
<a href="/mule-management-console/v/3.7/working-with-logs">Working with Logs</a><ul>
<li><i></i><a href="/mule-management-console/v/3.7/accessing-server-logs">Accessing Server Logs</a></li><li><i></i><a href="/mule-management-console/v/3.7/audit-logs">Audit Logs</a></li></ul></li>
<li>
<i></i>
<a href="/mule-management-console/v/3.7/troubleshooting-with-mmc">Troubleshooting with MMC</a><ul>
<li><i></i><a href="/mule-management-console/v/3.7/troubleshooting-tips">Troubleshooting Tips</a></li><li>
<i></i>
<a href="/mule-management-console/v/3.7/monitoring-and-debugging-applications">Monitoring and Debugging Applications</a><ul>
<li><i></i><a href="/mule-management-console/v/3.7/tracking-flows">Tracking Flows</a></li><li><i></i><a href="/mule-management-console/v/3.7/analyzing-message-flows">Analyzing Message Flows</a></li><li><i></i><a href="/mule-management-console/v/3.7/debugging-message-processing">Debugging Message Processing</a></li><li><i></i><a href="/mule-management-console/v/3.7/debugging-the-loan-broker-example-application">Debugging the Loan Broker Example Application</a></li></ul></li>
<li><i></i><a href="/mule-management-console/v/3.7/using-the-management-console-for-performance-tuning">Using the Management Console for Performance Tuning</a></li></ul></li>
<li>
<i></i>
<a href="/mule-management-console/v/3.7/automating-tasks-using-scripts">Automating Tasks Using Scripts</a><ul>
<li><i></i><a href="/mule-management-console/v/3.7/scripting-examples">Scripting Examples</a></li></ul></li>
</ul></li>
<li>
<i></i>
<a href="/mule-healthcare-toolkit/v/3.7/">Mule Healthcare Toolkit</a><ul>
<li><i></i><a href="/mule-healthcare-toolkit/v/3.7/hl7-ack-component-reference">HL7 ACK Component Reference</a></li><li><i></i><a href="/mule-healthcare-toolkit/v/3.7/hl7-append-segment-component-reference">HL7 Append Segment Component Reference</a></li><li><i></i><a href="/mule-healthcare-toolkit/v/3.7/hl7-delete-segment-component-reference">HL7 Delete Segment Component Reference</a></li><li><i></i><a href="/mule-healthcare-toolkit/v/3.7/hl7-encoding-transformer">HL7 Encoding Transformer</a></li><li><i></i><a href="/mule-healthcare-toolkit/v/3.7/hl7-endpoint-reference">HL7 Endpoint Reference</a></li><li><i></i><a href="/mule-healthcare-toolkit/v/3.7/hl7-exception-strategy">HL7 Exception Strategy</a></li><li><i></i><a href="/mule-healthcare-toolkit/v/3.7/hl7-global-connector">HL7 Global Connector</a></li><li><i></i><a href="/mule-healthcare-toolkit/v/3.7/hl7-message-component">HL7 Message Component</a></li><li><i></i><a href="/mule-healthcare-toolkit/v/3.7/hl7-message-validation">HL7 Message Validation</a></li><li><i></i><a href="/mule-healthcare-toolkit/v/3.7/hl7-mule-expression-language-support">HL7 Mule Expression Language Support</a></li><li><i></i><a href="/mule-healthcare-toolkit/v/3.7/hl7-profile-validator-filter">HL7 Profile Validator Filter</a></li><li><i></i><a href="/mule-healthcare-toolkit/v/3.7/testing-with-hapi-testpanel">Testing with HAPI TestPanel</a></li></ul></li>
<li>
<i></i>
<a href="/cloudhub/">CloudHub</a><ul>
<li>
<i></i>
<a href="/cloudhub/getting-started-with-cloudhub">Getting Started with CloudHub</a><ul>
<li><i></i><a href="/cloudhub/cloudhub-at-a-glance">CloudHub at a Glance</a></li><li><i></i><a href="/cloudhub/hello-world-on-cloudhub">Hello World on CloudHub</a></li><li><i></i><a href="/cloudhub/getting-started-with-connectors">Getting Started with Connectors</a></li></ul></li>
<li>
<i></i>
<a href="/cloudhub/tutorials">Tutorials</a><ul>
<li><i></i><a href="/cloudhub/building-an-https-service">Building an HTTPS Service</a></li><li><i></i><a href="/cloudhub/custom-application-alerts">Custom Application Alerts</a></li></ul></li>
<li><i></i><a href="/cloudhub/developing-a-cloudhub-application">Developing a CloudHub Application</a></li><li><i></i><a href="/cloudhub/deploying-a-cloudhub-application">Deploying a CloudHub Application</a></li><li>
<i></i>
<a href="/cloudhub/managing-cloudhub-applications">Managing CloudHub</a><ul>
<li><i></i><a href="/cloudhub/cloudhub-console-overview">CloudHub Console Overview</a></li><li><i></i><a href="/cloudhub/managing-applications-and-servers-in-the-cloud-and-on-premises">Managing Applications and Servers in the Cloud and On Premises</a></li><li><i></i><a href="/cloudhub/creating-and-managing-clusters">Creating and Managing Clusters</a></li><li><i></i><a href="/cloudhub/cloudhub-administration">Anypoint Platform Administration</a></li><li><i></i><a href="/cloudhub/alerts-and-notifications">Alerts and Notifications</a></li><li><i></i><a href="/cloudhub/cloudhub-fabric">CloudHub Fabric</a></li><li><i></i><a href="/cloudhub/cloudhub-insight">CloudHub Insight</a></li><li><i></i><a href="/cloudhub/managing-queues">Managing Queues</a></li><li><i></i><a href="/cloudhub/managing-schedules">Managing Schedules</a></li><li><i></i><a href="/cloudhub/managing-application-data-with-object-stores">Managing Application Data Storage with Object Stores</a></li><li><i></i><a href="/cloudhub/command-line-tools">Command Line Tools</a></li><li><i></i><a href="/cloudhub/secure-application-properties">Secure Application Properties</a></li><li><i></i><a href="/cloudhub/sending-data-from-arm-to-external-monitoring-software">Sending Data from ARM to External Monitoring Software</a></li><li><i></i><a href="/cloudhub/viewing-log-data">Viewing Log Data</a></li><li><i></i><a href="/cloudhub/virtual-private-cloud">Virtual Private Cloud</a></li><li><i></i><a href="/cloudhub/worker-monitoring">Worker Monitoring</a></li><li><i></i><a href="/cloudhub/penetration-testing-policies">Penetration Testing Policies</a></li><li><i></i><a href="/cloudhub/secure-data-gateway">Secure Data Gateway</a></li></ul></li>
<li>
<i></i>
<a href="/cloudhub/cloudhub-api">CloudHub API</a><ul>
<li>
<i></i>
<a href="/cloudhub/applications">Applications</a><ul>
<li><i></i><a href="/cloudhub/create-application">Create Application</a></li><li><i></i><a href="/cloudhub/delete-application">Delete an Application</a></li><li><i></i><a href="/cloudhub/deploy-application">Deploy Application</a></li><li><i></i><a href="/cloudhub/get-application">Get an Application</a></li><li><i></i><a href="/cloudhub/list-all-applications">List All Applications</a></li><li><i></i><a href="/cloudhub/update-application-metadata">Update Application Metadata</a></li></ul></li>
<li>
<i></i>
<a href="/cloudhub/logs">Working with Logs</a><ul>
<li><i></i><a href="/cloudhub/list-all-logs">List Log Messages</a></li></ul></li>
<li>
<i></i>
<a href="/cloudhub/notifications">Working with Notifications</a><ul>
<li><i></i><a href="/cloudhub/create-notification">Create Notification</a></li><li><i></i><a href="/cloudhub/list-notifications">List All Notifications</a></li><li><i></i><a href="/cloudhub/update-all-notifications">Update All Notifications</a></li><li><i></i><a href="/cloudhub/update-notification">Update Application</a></li></ul></li>
</ul></li>
<li>
<i></i>
<a href="/cloudhub/cloudhub-architecture">CloudHub Architecture</a><ul>
<li><i></i><a href="/cloudhub/cloudhub-networking-guide">CloudHub Networking Guide</a></li></ul></li>
<li>
<i></i>
<a href="/cloudhub/reference-materials">Reference Materials</a><ul>
<li><i></i><a href="/cloudhub/amazon-rds-support">Amazon RDS Support</a></li></ul></li>
<li><i></i><a href="/cloudhub/maintenance-and-upgrade-policy">Maintenance and Upgrade Policy</a></li><li><i></i><a href="/cloudhub/community-and-support">CloudHub Community and Support</a></li><li><i></i><a href="/cloudhub/mule-esb-and-cloudhub">Mule and CloudHub</a></li><li><i></i><a href="/cloudhub/faq">CloudHub FAQ</a></li></ul></li>
<li>
<i></i>
<a href="/anypoint-platform-for-apis/">Anypoint Platform for APIs</a><ul>
<li>
<i></i>
<a href="/anypoint-platform-for-apis/anypoint-platform-for-apis-walkthrough">Anypoint Platform for APIs Walkthrough</a><ul>
<li><i></i><a href="/anypoint-platform-for-apis/walkthrough-intro-create">Walkthrough Create an API</a></li><li><i></i><a href="/anypoint-platform-for-apis/walkthrough-design-new">Walkthrough Design a New API</a></li><li><i></i><a href="/anypoint-platform-for-apis/walkthrough-design-existing">Walkthrough Create a RAML Definition for Your Existing API</a></li><li><i></i><a href="/anypoint-platform-for-apis/walkthrough-build">Walkthrough Build Your API</a></li><li><i></i><a href="/anypoint-platform-for-apis/walkthrough-deploy-to-runtime">Walkthrough Deploy Your API to a Mule Runtime</a></li><li><i></i><a href="/anypoint-platform-for-apis/walkthrough-proxy">Walkthrough Create a Proxy for Your API</a></li><li><i></i><a href="/anypoint-platform-for-apis/walkthrough-deploy-to-gateway">Walkthrough Deploy Your API to an API Gateway</a></li><li><i></i><a href="/anypoint-platform-for-apis/walkthrough-manage">Walkthrough Manage Your API</a></li><li>
<i></i>
<a href="/anypoint-platform-for-apis/walkthrough-engage">Walkthrough Create an API Portal</a><ul>
<li><i></i><a href="/anypoint-platform-for-apis/walkthrough-notebook">Walkthrough Create an API Notebook</a></li></ul></li>
<li><i></i><a href="/anypoint-platform-for-apis/walkthrough-intro-consume">Walkthrough Discover and Consume APIs</a></li></ul></li>
<li>
<i></i>
<a href="/anypoint-platform-for-apis/anypoint-platform-for-apis-user-guide">Anypoint Platform for APIs User Guide</a><ul>
<li><i></i><a href="/anypoint-platform-for-apis/creating-your-api-in-the-anypoint-platform">Creating Your API in the Anypoint Platform</a></li><li><i></i><a href="/anypoint-platform-for-apis/designing-your-api">Designing Your API</a></li><li>
<i></i>
<a href="/anypoint-platform-for-apis/building-your-api">Building Your API</a><ul>
<li><i></i><a href="/anypoint-platform-for-apis/apikit-basic-anatomy">APIkit Basic Anatomy</a></li><li><i></i><a href="/anypoint-platform-for-apis/apikit-tutorial">APIkit Tutorial</a></li><li><i></i><a href="/anypoint-platform-for-apis/apikit-beyond-the-basics">APIkit Beyond the Basics</a></li><li><i></i><a href="/anypoint-platform-for-apis/creating-an-apikit-project-with-maven">Creating an APIkit Project with Maven</a></li></ul></li>
<li><i></i><a href="/anypoint-platform-for-apis/setting-your-api-url">Setting Your API URL</a></li><li>
<i></i>
<a href="/anypoint-platform-for-apis/proxying-your-api">Proxying Your API</a><ul>
<li><i></i><a href="/anypoint-platform-for-apis/https-api-proxy-example">HTTPS API Proxy Example</a></li><li><i></i><a href="/anypoint-platform-for-apis/managing-internal-links-in-api-proxies">Managing Internal Links in API Proxies</a></li></ul></li>
<li>
<i></i>
<a href="/anypoint-platform-for-apis/deploying-your-api-or-proxy">Deploying Your API or Proxy</a><ul>
<li><i></i><a href="/anypoint-platform-for-apis/api-auto-discovery">API Auto-Discovery</a></li></ul></li>
<li><i></i><a href="/anypoint-platform-for-apis/accessing-your-api-behind-a-firewall">Accessing Your API Behind a Firewall</a></li><li>
<i></i>
<a href="/anypoint-platform-for-apis/applying-runtime-policies">Applying Runtime Policies</a><ul>
<li><i></i><a href="/anypoint-platform-for-apis/client-id-based-policies">Client ID Based Policies</a></li><li><i></i><a href="/anypoint-platform-for-apis/rate-limiting-and-throttling">Rate Limiting and Throttling</a></li><li>
<i></i>
<a href="/anypoint-platform-for-apis/external-oauth-2.0-token-validation-policy">External OAuth 2.0 Token Validation Policy</a><ul>
<li><i></i><a href="/anypoint-platform-for-apis/building-an-external-oauth-2.0-provider-application">Building an External OAuth 2.0 Provider Application</a></li><li><i></i><a href="/anypoint-platform-for-apis/aes-oauth-faq">AES OAuth FAQ</a></li></ul></li>
<li><i></i><a href="/anypoint-platform-for-apis/http-basic-authentication-policy">HTTP Basic Authentication Policy</a></li><li><i></i><a href="/anypoint-platform-for-apis/pingfederate-oauth-token-enforcement-policy">PingFederate OAuth Token Enforcement Policy</a></li><li><i></i><a href="/anypoint-platform-for-apis/ldap-security-manager">LDAP Security Manager</a></li><li><i></i><a href="/anypoint-platform-for-apis/openam-oauth-token-enforcement-policy">OpenAM OAuth Token Enforcement Policy</a></li><li><i></i><a href="/anypoint-platform-for-apis/creating-a-policy-walkthrough">Creating a Policy Walkthrough</a></li><li><i></i><a href="/anypoint-platform-for-apis/applying-custom-policies">Applying Custom Policies</a></li><li><i></i><a href="/anypoint-platform-for-apis/adding-terms-and-conditions">Adding Terms and Conditions</a></li><li><i></i><a href="/anypoint-platform-for-apis/oauth-2.0-provider-and-oauth-2.0-token-enforcement-policies">OAuth 2.0 Provider and 2.0 Token Enforcement Policies</a></li></ul></li>
<li>
<i></i>
<a href="/anypoint-platform-for-apis/managing-your-api">Managing Your API</a><ul>
<li><i></i><a href="/anypoint-platform-for-apis/defining-sla-tiers">Defining SLA Tiers</a></li><li><i></i><a href="/anypoint-platform-for-apis/managing-api-versions">Managing API Versions</a></li></ul></li>
<li><i></i><a href="/anypoint-platform-for-apis/creating-an-api-notebook">Creating an API Notebook</a></li><li><i></i><a href="/anypoint-platform-for-apis/browsing-and-accessing-apis">Browsing and Accessing APIs</a></li><li><i></i><a href="/anypoint-platform-for-apis/viewing-api-analytics">Viewing API Analytics</a></li><li><i></i><a href="/anypoint-platform-for-apis/analytics-event-api">Analytics Event API</a></li><li><i></i><a href="/anypoint-platform-for-apis/engaging-users-of-your-api">Engaging Users of Your API</a></li><li><i></i><a href="/anypoint-platform-for-apis/images-and-attachments-in-api-portal">Images and Attachments in API Portal</a></li></ul></li>
<li>
<i></i>
<a href="/anypoint-platform-for-apis/anypoint-platform-for-apis-administration">Anypoint Platform for APIs Administration</a><ul>
<li><i></i><a href="/anypoint-platform-for-apis/managing-users-and-roles-in-the-anypoint-platform">Managing Users and Roles in the Anypoint Platform</a></li><li>
<i></i>
<a href="/anypoint-platform-for-apis/configuring-an-api-gateway">Configuring an API Gateway</a><ul>
<li><i></i><a href="/anypoint-platform-for-apis/api-gateway-101">API Gateway 101</a></li><li><i></i><a href="/anypoint-platform-for-apis/localhost-behavior-on-the-api-gateway">Localhost Behavior on the API Gateway</a></li><li><i></i><a href="/anypoint-platform-for-apis/configuring-proxy-access-to-the-anypoint-platform-for-apis">Configuring Proxy Access to the Anypoint Platform for APIs</a></li></ul></li>
</ul></li>
<li><i></i><a href="/anypoint-platform-for-apis/anypoint-platform-for-apis-glossary">Anypoint Platform for APIs Glossary</a></li><li><i></i><a href="/anypoint-platform-for-apis/anypoint-platform-for-apis-faq">Anypoint Platform for APIs FAQ</a></li></ul></li>
<li>
<i></i>
<a href="/anypoint-platform-administration/">Anypoint Platform Administration</a><ul>
<li><i></i><a href="/anypoint-platform-administration/troubleshooting-anypoint-platform-access">Troubleshooting Anypoint Platform Access</a></li><li><i></i><a href="/anypoint-platform-administration/setting-up-external-identity">Setting Up External Identity</a></li><li>
<i></i>
<a href="/anypoint-platform-administration/managing-cloudhub-specific-settings">Managing CloudHub Specific Settings</a><ul>
<li><i></i><a href="/anypoint-platform-administration/managing-cloudhub-environments">Managing CloudHub Environments</a></li></ul></li>
<li><i></i><a href="/anypoint-platform-administration/creating-an-account">Creating an Account</a></li><li><i></i><a href="/anypoint-platform-administration/managing-accounts-roles-and-permissions">Managing Accounts Roles and Permissions</a></li><li><i></i><a href="/anypoint-platform-administration/manage-your-organization-and-business-groups">Manage your Organization and Business Groups</a></li><li><i></i><a href="/anypoint-platform-administration/audit-logging">Audit Logging</a></li></ul></li>
<li>
<i></i>
<a href="/anypoint-data-gateway/v/1.1.0/">Anypoint Data Gateway</a><ul>
<li><i></i><a href="/anypoint-data-gateway/v/1.1.0/installing-anypoint-data-gateway">Installing Anypoint Data Gateway</a></li><li><i></i><a href="/anypoint-data-gateway/v/1.1.0/creating-and-configuring-a-gateway">Creating and Configuring a Gateway</a></li><li><i></i><a href="/anypoint-data-gateway/v/1.1.0/managing-gateways">Managing Gateways</a></li><li><i></i><a href="/anypoint-data-gateway/v/1.1.0/quick-guide-to-accessing-gateways-and-objects">Quick Guide to Accessing Gateways and Objects</a></li><li><i></i><a href="/anypoint-data-gateway/v/1.1.0/troubleshooting-data-gateway">Troubleshooting Data Gateway</a></li></ul></li>
<li>
<i></i>
<a href="/anypoint-b2b/">Anypoint B2B</a><ul>
<li><i></i><a href="/anypoint-b2b/edifact-module">EDIFACT Module</a></li><li><i></i><a href="/anypoint-b2b/x12-module">X12 Module</a></li><li><i></i><a href="/anypoint-b2b/edi-schema-language-reference">EDI Schema Language Reference</a></li><li>
<i></i>
<a href="/anypoint-b2b/anypoint-partner-manager">Anypoint Partner Manager</a><ul>
<li><i></i><a href="/anypoint-b2b/as2-and-edi-x12-purchase-order-walkthrough">AS2 and EDI X12 Purchase Order Walkthrough</a></li><li><i></i><a href="/anypoint-b2b/ftps-and-edi-x12-purchase-order-walkthrough">FTPS and EDI X12 Purchase Order Walkthrough</a></li><li><i></i><a href="/anypoint-b2b/transmission-tracking">Transmission Tracking Walkthrough</a></li></ul></li>
<li><i></i><a href="/anypoint-b2b/as2-connector">AS2 Connector</a></li><li><i></i><a href="/anypoint-b2b/as2-connector-2.0.0-rc">AS2 Connector 2.0.0 RC</a></li><li><i></i><a href="/anypoint-b2b/ftps-connector">FTPS Connector</a></li><li><i></i><a href="/anypoint-b2b/edi-x12-order-processing-example">EDI X12 Order Processing Example</a></li><li><i></i><a href="/anypoint-b2b/supported-edi-document-types">Supported EDI Document Types</a></li></ul></li>
<li>
<i></i>
<a href="/anypoint-connector-devkit/v/3.7/">Anypoint Connector DevKit</a><ul>
<li><i></i><a href="/anypoint-connector-devkit/v/3.7/devkit-tutorial">DevKit Tutorial</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/anypoint-connector-development">Anypoint Connector Development</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/setting-up-your-dev-environment">Setting Up Your Development Environment</a></li><li>
<i></i>
<a href="/anypoint-connector-devkit/v/3.7/creating-an-anypoint-connector-project">Creating an Anypoint Connector Project</a><ul>
<li><i></i><a href="/anypoint-connector-devkit/v/3.7/creating-a-java-sdk-based-connector">Creating a Java SDK-Based Connector</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/creating-a-soap-connector">Creating a SOAP Connector</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/creating-a-rest-connector">Creating a REST Connector</a></li></ul></li>
<li><i></i><a href="/anypoint-connector-devkit/v/3.7/connector-project-structure">Connector Project Structure</a></li><li>
<i></i>
<a href="/anypoint-connector-devkit/v/3.7/setting-up-api-access">Setting Up API Access</a><ul>
<li><i></i><a href="/anypoint-connector-devkit/v/3.7/3.7configure-twitter-for-api-access">Configure Twitter for API Access</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/configure-twilio-for-api-access">Configure Twilio for API Access</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/salesforce-developer-account-setup">Salesforce Developer Account Setup</a></li></ul></li>
<li>
<i></i>
<a href="/anypoint-connector-devkit/v/3.7/authentication">Authentication</a><ul>
<li><i></i><a href="/anypoint-connector-devkit/v/3.7/authentication-methods">Authentication Methods</a></li><li>
<i></i>
<a href="/anypoint-connector-devkit/v/3.7/connector-connection-strategies">Connector Connection Strategies</a><ul>
<li><i></i><a href="/anypoint-connector-devkit/v/3.7/connection-management">Connection Management</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/oauth-v1">OAuth V1</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/oauth-v2">OAuth V2</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/http-basic-authentication">HTTP Basic Authentication</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/no-authentication">No Authentication</a></li></ul></li>
</ul></li>
<li>
<i></i>
<a href="/anypoint-connector-devkit/v/3.7/connector-attributes-and-operations">Connector Attributes and Operations</a><ul>
<li><i></i><a href="/anypoint-connector-devkit/v/3.7/defining-message-sources">Defining Message Sources</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/creating-message-processors">Creating Message Processors</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/defining-connector-attributes">Defining Connector Attributes</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/complex-data-types-attributes">Complex Data Types Attributes</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/mime-type-and-encoding">MIME Type and Encoding</a></li></ul></li>
<li>
<i></i>
<a href="/anypoint-connector-devkit/v/3.7/developing-devkit-connector-tests">Developing DevKit Connector Tests</a><ul>
<li><i></i><a href="/anypoint-connector-devkit/v/3.7/connector-testing-framework">Connector Testing Framework</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/installing-and-testing-your-connector-in-studio">Installing and Testing Your Connector in Studio</a></li></ul></li>
<li>
<i></i>
<a href="/anypoint-connector-devkit/v/3.7/extending-connector-functionality">Extending Connector Functionality</a><ul>
<li>
<i></i>
<a href="/anypoint-connector-devkit/v/3.7/adding-datasense">Adding DataSense</a><ul>
<li><i></i><a href="/anypoint-connector-devkit/v/3.7/multiple-level-datasense-support">Multiple Level DataSense Support</a></li></ul></li>
<li><i></i><a href="/anypoint-connector-devkit/v/3.7/adding-datasense-query-language">Adding DataSense Query Language</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/adding-query-pagination-support">Adding Query Pagination Support</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/building-a-batch-enabled-connector">Building a Batch Enabled Connector</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/shading-libraries">Shading Libraries</a></li></ul></li>
<li><i></i><a href="/anypoint-connector-devkit/v/3.7/connector-reference-documentation">Connector Reference Documentation</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/packaging-your-connector-for-release">Packaging Your Connector for Release</a></li><li>
<i></i>
<a href="/anypoint-connector-devkit/v/3.7/anypoint-connector-examples">Anypoint Connector Examples</a><ul>
<li><i></i><a href="/anypoint-connector-devkit/v/3.7/tutorial-barn-connector">Tutorial - Barn Connector</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/creating-a-connector-using-a-java-sdk">Creating a Connector Using a Java SDK</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/creating-a-connector-for-a-soap-service-via-cxf-client">Creating a Connector for a SOAP Service Via CXF Client</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/creating-a-connector-for-a-restful-api-using-jersey">Creating a Connector for a RESTful API Using Jersey</a></li><li><i></i><a href="/anypoint-connector-devkit/v/3.7/creating-a-connector-for-a-restful-api-using-restcall-annotations">Creating a Connector for a RESTful API using @RestCall Annotations</a></li></ul></li>
<li><i></i><a href="/anypoint-connector-devkit/v/3.7/annotation-reference">Annotation Reference</a></li></ul></li>
<li>
<i></i>
<a href="/tcat-server/v/7.1.0/">Tcat Server</a><ul>
<li>
<i></i>
<a href="/tcat-server/v/7.1.0/using-the-rest-api">Using the REST API</a><ul>
<li><i></i><a href="/tcat-server/v/7.1.0/apply-a-profile-to-a-server">Apply a Profile to a Server</a></li><li><i></i><a href="/tcat-server/v/7.1.0/apply-a-profile-to-a-server-group">Apply a Profile to a Server Group</a></li><li><i></i><a href="/tcat-server/v/7.1.0/create-a-deployment">Create a Deployment</a></li><li><i></i><a href="/tcat-server/v/7.1.0/create-a-server-group">Create a Server Group</a></li><li><i></i><a href="/tcat-server/v/7.1.0/create-or-update-a-file">Create or Update a File</a></li><li><i></i><a href="/tcat-server/v/7.1.0/delete-a-deployment">Delete a Deployment</a></li><li><i></i><a href="/tcat-server/v/7.1.0/delete-a-file">Delete a File</a></li><li><i></i><a href="/tcat-server/v/7.1.0/delete-a-server">Delete a Server</a></li><li><i></i><a href="/tcat-server/v/7.1.0/delete-a-server-group">Delete a Server Group</a></li><li><i></i><a href="/tcat-server/v/7.1.0/get-a-deployment">Get a Deployment</a></li><li><i></i><a href="/tcat-server/v/7.1.0/get-a-file">Get a File</a></li><li><i></i><a href="/tcat-server/v/7.1.0/get-a-server">Get a Server</a></li><li><i></i><a href="/tcat-server/v/7.1.0/get-a-server-group">Get a Server Group</a></li><li><i></i><a href="/tcat-server/v/7.1.0/get-file-metadata">Get File Metadata</a></li><li><i></i><a href="/tcat-server/v/7.1.0/get-the-deployment-history">Get the Deployment History</a></li><li><i></i><a href="/tcat-server/v/7.1.0/get-the-deployment-version-details">Get the Deployment Version Details</a></li><li><i></i><a href="/tcat-server/v/7.1.0/list-all-deployments">List All Deployments</a></li><li><i></i><a href="/tcat-server/v/7.1.0/list-all-servers">List All Servers</a></li><li><i></i><a href="/tcat-server/v/7.1.0/list-all-server-groups">List All Server Groups</a></li><li><i></i><a href="/tcat-server/v/7.1.0/redeploy-a-deployment">Redeploy a Deployment</a></li><li><i></i><a href="/tcat-server/v/7.1.0/register-a-server">Register a Server</a></li><li><i></i><a href="/tcat-server/v/7.1.0/restart-a-server">Restart a Server</a></li><li><i></i><a href="/tcat-server/v/7.1.0/undeploy-a-deployment">Undeploy a Deployment</a></li><li><i></i><a href="/tcat-server/v/7.1.0/update-a-file">Update a File</a></li><li><i></i><a href="/tcat-server/v/7.1.0/update-a-server">Update a Server</a></li><li><i></i><a href="/tcat-server/v/7.1.0/update-a-server-group">Update a Server Group</a></li><li><i></i><a href="/tcat-server/v/7.1.0/repository-api">Repository API</a></li></ul></li>
<li><i></i><a href="/tcat-server/v/7.1.0/working-with-server-profiles">Working with Server Profiles</a></li><li><i></i><a href="/tcat-server/v/7.1.0/applying-your-tcat-server-license">Applying Your Tcat Server License</a></li><li><i></i><a href="/tcat-server/v/7.1.0/automating-tasks">Automating Tasks</a></li><li><i></i><a href="/tcat-server/v/7.1.0/creating-custom-policies">Creating Custom Policies</a></li><li><i></i><a href="/tcat-server/v/7.1.0/creating-remote-workspaces">Creating Remote Workspaces</a></li><li><i></i><a href="/tcat-server/v/7.1.0/deploying-applications">Deploying Applications</a></li><li><i></i><a href="/tcat-server/v/7.1.0/deploying-to-amazon-ec2">Deploying to Amazon EC2</a></li><li><i></i><a href="/tcat-server/v/7.1.0/enabling-authentication-through-ldap">Enabling Authentication Through LDAP</a></li><li><i></i><a href="/tcat-server/v/7.1.0/managing-the-repository">Managing the Repository</a></li><li><i></i><a href="/tcat-server/v/7.1.0/managing-users-and-groups">Managing Users and Groups</a></li><li><i></i><a href="/tcat-server/v/7.1.0/maven-publishing-plug-in">Maven Publishing Plug-in</a></li><li><i></i><a href="/tcat-server/v/7.1.0/monitoring-applications">Monitoring Applications</a></li><li><i></i><a href="/tcat-server/v/7.1.0/update-a-deployment">Update a Deployment</a></li><li><i></i><a href="/tcat-server/v/7.1.0/monitoring-a-server">Monitoring a Server</a></li><li><i></i><a href="/tcat-server/v/7.1.0/monitoring-repository-activity">Monitoring Repository Activity</a></li><li><i></i><a href="/tcat-server/v/7.1.0/working-with-logs">Working with Logs</a></li><li><i></i><a href="/tcat-server/v/7.1.0/scheduling-the-usage-statistics-script">Scheduling the Usage Statistics Script</a></li><li><i></i><a href="/tcat-server/v/7.1.0/scripting-examples">Scripting Examples</a></li><li><i></i><a href="/tcat-server/v/7.1.0/troubleshooting">Troubleshooting</a></li><li><i></i><a href="/tcat-server/v/7.1.0/using-the-http-atompub-api">Using the HTTP AtomPub API</a></li><li><i></i><a href="/tcat-server/v/7.1.0/working-with-servers">Working with Servers</a></li><li><i></i><a href="/tcat-server/v/7.1.0/overview-of-tcat-server">Overview of Tcat Server</a></li><li><i></i><a href="/tcat-server/v/7.1.0/quick-start">Quick Start</a></li><li><i></i><a href="/tcat-server/v/7.1.0/installation">Installation</a></li><li><i></i><a href="/tcat-server/v/7.1.0/server-profiles">Server Profiles</a></li><li><i></i><a href="/tcat-server/v/7.1.0/integrating-with-ant">Integrating with Ant</a></li><li><i></i><a href="/tcat-server/v/7.1.0/csv-save-start-script">CSV Save Start Script</a></li><li><i></i><a href="/tcat-server/v/7.1.0/csv-save-stop-script">CSV Save Stop Script</a></li><li><i></i><a href="/tcat-server/v/7.1.0/csv-save-writer-script">CSV Save Writer Script</a></li><li><i></i><a href="/tcat-server/v/7.1.0/saving-jmx-metric-data-to-csv-files">Saving JMX Metric Data to CSV Files</a></li><li><i></i><a href="/tcat-server/v/7.1.0/installing-tcat-server-on-microsoft-windows">Installing Tcat Server on Microsoft Windows</a></li><li><i></i><a href="/tcat-server/v/7.1.0/add-tcat-server-capabilities-to-an-existing-tomcat-install">Add Tcat Server Capabilities to an Existing Tomcat Install</a></li><li><i></i><a href="/tcat-server/v/7.1.0/applying-a-new-tcat-server-license">Applying a new Tcat Server license</a></li><li>
<i></i>
<a href="/tcat-server/v/7.1.0/archetypes">Archetypes</a><ul>
<li>
<i></i>
<a href="/tcat-server/v/7.1.0/mulesoft-tomcat-archetypes">MuleSoft Tomcat Archetypes</a><ul>
<li><i></i><a href="/tcat-server/v/7.1.0/mulesoft-tcat-archetypes">MuleSoft Tcat Archetypes</a></li></ul></li>
</ul></li>
<li><i></i><a href="/tcat-server/v/7.1.0/common-problems-and-solutions">Common Problems and Solutions</a></li><li><i></i><a href="/tcat-server/v/7.1.0/defining-notifications-and-destinations">Defining Notifications and Destinations</a></li><li><i></i><a href="/tcat-server/v/7.1.0/disable-multicasting">Disable Multicasting</a></li><li><i></i><a href="/tcat-server/v/7.1.0/edit-server-information">Edit Server Information</a></li><li><i></i><a href="/tcat-server/v/7.1.0/global-dashboard-overview">Global Dashboard Overview</a></li><li><i></i><a href="/tcat-server/v/7.1.0/installing-multiple-tcat-instances-on-a-single-machine">Installing Multiple Tcat Instances on a Single Machine</a></li><li><i></i><a href="/tcat-server/v/7.1.0/integrating-with-ldap">Integrating with LDAP</a></li><li><i></i><a href="/tcat-server/v/7.1.0/jmx-agent-monitoring">JMX Agent Monitoring</a></li><li><i></i><a href="/tcat-server/v/7.1.0/moving-a-tcat-installation-from-a-non-linux-os-to-linux">Moving a Tcat Installation from a Non-Linux OS to Linux</a></li><li><i></i><a href="/tcat-server/v/7.1.0/quickstart">QuickStart</a></li><li>
<i></i>
<a href="/tcat-server/v/7.1.0/release-notes">Release Notes</a><ul>
<li><i></i><a href="/tcat-server/v/7.1.0/release-notes-tcat-6-r2">Release Notes Tcat 6 R3</a></li><li><i></i><a href="/tcat-server/v/7.1.0/release-notes-tcat-6-r3">Release Notes Tcat 6 R2</a></li><li><i></i><a href="/tcat-server/v/7.1.0/tcat-server-6-r2-release-notes">Tcat Server 6 R2 Release Notes</a></li></ul></li>
<li><i></i><a href="/tcat-server/v/7.1.0/server-dashboard">Server Dashboard</a></li><li><i></i><a href="/tcat-server/v/7.1.0/user-group-permissions">User Group Permissions</a></li><li><i></i><a href="/tcat-server/v/7.1.0/using-cloudcat-with-amazon-ec2">Using Cloudcat with Amazon EC2</a></li><li><i></i><a href="/tcat-server/v/7.1.0/using-cloudcat-with-gogrid">Using Cloudcat with GoGrid</a></li><li><i></i><a href="/tcat-server/v/7.1.0/working-with-alerts">Working With Alerts</a></li><li><i></i><a href="/tcat-server/v/7.1.0/integrating-with-maven">Integrating with Maven Upgrading</a></li><li>
<i></i>
<a href="/tcat-server/v/7.1.0/upgrading">Upgrading</a><ul>
<li><i></i><a href="/tcat-server/v/7.1.0/upgrading-to-7.1.0">Upgrading to 7.1.0</a></li><li><i></i><a href="/tcat-server/v/7.1.0/upgrading-to-r4">Upgrading to R4</a></li><li><i></i><a href="/tcat-server/v/7.1.0/upgrading-to-6.3">Upgrading to 6.3</a></li><li><i></i><a href="/tcat-server/v/7.1.0/upgrading-to-tcat-server-6-r2-p1">Upgrading to Tcat Server 6 R2 P1</a></li><li><i></i><a href="/tcat-server/v/7.1.0/upgrading-from-tcat-server-6-r1-to-tcat-server-6-r2">Upgrading from Tcat Server 6 R1 to Tcat Server 6 R2</a></li></ul></li>
</ul></li>
<li>
<i></i>
<a href="/release-notes/">Release Notes</a><ul>
<li>
<i></i>
<a href="/release-notes/release-bulletins">Mule Release Bulletins</a><ul>
<li><i></i><a href="/release-notes/http-connector-security-update">HTTP Connector Security Update</a></li><li><i></i><a href="/release-notes/mule-enterprise-management-console-security-update">Mule Enterprise Management Console Security Update</a></li><li><i></i><a href="/release-notes/xml-issues-in-mule-esb">XML Issues in Mule ESB</a></li></ul></li>
<li>
<i></i>
<a href="/release-notes/mule-esb">Mule ESB Release Notes</a><ul>
<li><i></i><a href="/release-notes/mule-esb-3.7.2-release-notes">Mule ESB 3.7.2 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.7.1-release-notes">Mule ESB 3.7.1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.7.0-release-notes">Mule ESB 3.7.0 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.6.3-release-notes">Mule ESB 3.6.3 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.6.2-release-notes">Mule ESB 3.6.2 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.6.1-release-notes">Mule ESB 3.6.1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.6.0-release-notes">Mule ESB 3.6.0 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.5.3-release-notes">Mule ESB 3.5.3 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.5.2-release-notes">Mule ESB 3.5.2 Release Notes</a></li><li><i></i><a href="/release-notes/mule-3.5.0-andes-release-notes">Mule 3.5.0 Andes Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.4.4-release-notes">Mule ESB 3.4.4 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.4.3-release-notes">Mule ESB 3.4.3 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.4.2-release-notes">Mule ESB 3.4.2 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.4.1-release-notes">Mule ESB 3.4.1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.4.0-release-notes">Mule ESB 3.4.0 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.4.0-beta-release-notes">Mule ESB 3.4.0 Beta Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.4.0-early-preview-2-release-notes">Mule ESB 3.4.0 Early Preview 2 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.4.0-early-preview-release-notes">Mule ESB 3.4.0 Early Preview Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.3.3-release-notes">Mule ESB 3.3.3 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.3.2-release-notes">Mule ESB 3.3.2 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.3.1-release-notes">Mule ESB 3.3.1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.2.4-release-notes">Mule ESB 3.2.4 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.2.3-release-notes">Mule ESB 3.2.3 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.2.2-release-notes">Mule ESB 3.2.2 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.2.1-release-notes">Mule ESB 3.2.1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.2.0-release-notes">Mule ESB 3.2.0 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.2.0-m1-release-notes">Mule ESB 3.2.0 M1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.1.4-release-notes">Mule ESB 3.1.4 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.1.3-release-notes">Mule ESB 3.1.3 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.1.2-release-notes">Mule ESB 3.1.2 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.1.1-release-notes">Mule ESB 3.1.1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.1.0-ee-release-notes">Mule ESB 3.1.0 EE Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.1.0-ce-release-notes">Mule ESB 3.1.0 CE Release Notes</a></li><li>
<i></i>
<a href="/release-notes/legacy-mule-release-notes">Legacy Mule Release Notes</a><ul>
<li><i></i><a href="/release-notes/mule-esb-3.0.1-release-notes">Mule ESB 3.0.1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.0.0-release-notes">Mule ESB 3.0.0 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.0.0-rc2-release-notes">Mule ESB 3.0.0 RC2 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.0.0-rc1-release-notes">Mule ESB 3.0.0 RC1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.0.0-m4-release-notes">Mule ESB 3.0.0 M4 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.0.0-m3-release-notes">Mule ESB 3.0.0 M3 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-3.0.0-m2-release-notes">Mule ESB 3.0.0 M2 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-2.2.8-release-notes">Mule ESB 2.2.8 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-2.2.7-release-notes">Mule ESB 2.2.7 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-2.2.6-release-notes">Mule ESB 2.2.6 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-console-2.2.5-release-notes">Mule ESB Console 2.2.5 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-2.2.5-release-notes">Mule ESB 2.2.5 Release Notes</a></li><li><i></i><a href="/release-notes/mule-2.2.1-release-notes">Mule 2.2.1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-2.2.0-release-notes">Mule 2.2.0 Release Notes</a></li><li><i></i><a href="/release-notes/mule-esb-2.2-release-notes">Mule ESB 2.2 Release Notes</a></li><li><i></i><a href="/release-notes/mule-2.1.2-release-notes">Mule 2.1.2 Release Notes</a></li><li><i></i><a href="/release-notes/mule-2.1.1-release-notes">Mule 2.1.1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-2.1.0-release-notes">Mule 2.1.0 Release Notes</a></li><li><i></i><a href="/release-notes/mule-2.0.2-release-notes">Mule 2.0.2 Release Notes</a></li><li><i></i><a href="/release-notes/mule-2.0.1-release-notes">Mule 2.0.1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-2.0-release-notes">Mule 2.0 Release Notes</a></li><li><i></i><a href="/release-notes/mule-1.4.4-release-notes">Mule 1.4.4 Release Notes</a></li><li><i></i><a href="/release-notes/mule-1.4.3-release-notes">Mule 1.4.3 Release Notes</a></li><li><i></i><a href="/release-notes/mule-1.4.2-release-notes">Mule 1.4.2 Release Notes</a></li><li><i></i><a href="/release-notes/mule-1.4.1-release-notes">Mule 1.4.1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-1.4-release-notes">Mule 1.4 Release Notes</a></li><li><i></i><a href="/release-notes/mule-1.3.3-release-notes">Mule 1.3.3 Release Notes</a></li><li><i></i><a href="/release-notes/mule-1.3.2-release-notes">Mule 1.3.2 Release Notes</a></li><li><i></i><a href="/release-notes/mule-1.3.1-release-notes">Mule 1.3.1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-1.3-release-notes">Mule 1.3 Release Notes</a></li><li><i></i><a href="/release-notes/mule-1.3-rc5-release-notes">Mule 1.3-RC5</a></li><li><i></i><a href="/release-notes/mule-1.3-rc4-release-notes">Mule 1.3-RC4</a></li><li><i></i><a href="/release-notes/mule-1.3-rc3-release-notes">Mule 1.3-RC3</a></li><li><i></i><a href="/release-notes/mule-1.3-rc2-release-notes">Mule 1.3-RC2</a></li><li><i></i><a href="/release-notes/mule-1.3-rc1-release-notes">Mule 1.3-RC1</a></li><li><i></i><a href="/release-notes/mule-1.2-release-notes">Mule 1.2 Release Notes</a></li><li><i></i><a href="/release-notes/mule-1.1-release-notes">Mule 1.1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-1.1-rc1-release-notes">Mule 1.1-RC1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-1.0-release-notes">Mule 1.0 Release Notes</a></li><li><i></i><a href="/release-notes/mule-1.0-rc3-release-notes">Mule 1.0-RC3 Release Notes</a></li><li><i></i><a href="/release-notes/mule-1.0-rc2-release-notes">Mule 1.0-RC2 Release Notes</a></li><li><i></i><a href="/release-notes/mule-1.0-rc1-release-notes">Mule 1.0-RC1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-0.9.3-release-notes">Mule 0.9.3 Release Notes</a></li><li><i></i><a href="/release-notes/mule-0.9.2.1-release-notes">Mule 0.9.2.1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-0.9.2-release-notes">Mule 0.9.2 Release Notes</a></li><li><i></i><a href="/release-notes/mule-0.9.1-release-notes">Mule 0.9.1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-0.9-beta1-release-notes">Mule 0.9 beta1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-0.8-release-notes">Mule 0.8 Release Notes</a></li><li>
<i></i>
<a href="/release-notes/legacy-mule-ide-release-notes">Legacy Mule IDE release notes</a><ul>
<li><i></i><a href="/release-notes/mule-ide-1.3-beta-1-release-notes">Mule IDE 1.3 Beta 1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-ide-1.3-release-notes">Mule IDE 1.3 Release Notes</a></li><li><i></i><a href="/release-notes/mule-ide-1.4.3-release-notes">Mule IDE 1.4.3 Release Notes</a></li><li><i></i><a href="/release-notes/release-notes-for-mule-ide-2.0.0">Release Notes for Mule IDE 2.0.0</a></li><li><i></i><a href="/release-notes/release-notes-for-mule-ide-2.0.1">Release Notes for Mule IDE 2.0.1</a></li><li><i></i><a href="/release-notes/release-notes-for-mule-ide-2.0.2">Release Notes for Mule IDE 2.0.2</a></li><li><i></i><a href="/release-notes/release-notes-for-mule-ide-2.0.3">Release Notes for Mule IDE 2.0.3</a></li><li><i></i><a href="/release-notes/release-notes-for-mule-ide-2.0.4">Release Notes for Mule IDE 2.0.4</a></li><li><i></i><a href="/release-notes/release-notes-for-mule-ide-2.0.5">Release Notes for Mule IDE 2.0.5</a></li><li><i></i><a href="/release-notes/release-notes-for-mule-ide-2.1.0">Release Notes for Mule IDE 2.1.0</a></li><li><i></i><a href="/release-notes/release-notes-for-mule-ide-2.1.1">Release Notes for Mule IDE 2.1.1</a></li><li><i></i><a href="/release-notes/release-notes-for-mule-ide-2.1.2">Release Notes for Mule IDE 2.1.2</a></li></ul></li>
</ul></li>
<li>
<i></i>
<a href="/release-notes/legacy-mule-migration-notes">Legacy Mule Migration Notes</a><ul>
<li><i></i><a href="/release-notes/migrating-mule-3.1-to-3.2">Migrating Mule 3.1 to 3.2</a></li><li><i></i><a href="/release-notes/migrating-mule-3.0-to-3.1">Migrating Mule 3.0 to 3.1</a></li><li><i></i><a href="/release-notes/migrating-mule-esb-2.2-to-mule-esb-3.0">Migrating Mule ESB 2.2 to Mule ESB 3.0</a></li><li><i></i><a href="/release-notes/migrating-mule-2.x-ce-to-ee">Migrating Mule 2.x CE to EE</a></li><li><i></i><a href="/release-notes/migrating-mule-2.1-to-2.2">Migrating Mule 2.1 to 2.2</a></li><li><i></i><a href="/release-notes/migrating-mule-2.0-to-2.1">Migrating Mule 2.0 to 2.1</a></li><li><i></i><a href="/release-notes/migrating-mule-1.x-to-2.0">Migrating Mule 1.x to 2.0</a></li><li><i></i><a href="/release-notes/1.4.1-migration-guide">1.4.1 Migration Guide</a></li><li><i></i><a href="/release-notes/1.4-migration-guide">1.4 Migration Guide</a></li></ul></li>
</ul></li>
<li>
<i></i>
<a href="/release-notes/anypoint-studio">Anypoint Studio Release Notes</a><ul>
<li><i></i><a href="/release-notes/anypoint-studio-5.3-with-3.7.2-runtime-update-site-1-release-notes">Anypoint Studio 5.3 with Mule 3.7.2 Runtime Update Site 1 Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-studio-5.3-with-3.7.2-runtime-release-notes">Anypoint Studio 5.3 with Mule 3.7.2 Runtime Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-studio-june-2015-with-3.7.0-update-site-1-runtime-release-notes">Anypoint Studio June 2015 with 3.7.0 Update Site 1 Runtime Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-studio-june-2015-with-3.7.0-runtime-release-notes">Anypoint Studio June 2015 with 3.7.0 Runtime Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-studio-march-2015-with-3.6.1-runtime-update-site-2-release-notes">Anypoint Studio March 2015 with 3.6.1 Runtime - Update Site 2 Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-studio-march-2015-with-3.6.1-runtime-update-site-1-release-notes">Anypoint Studio March 2015 with 3.6.1 Runtime - Update Site 1 Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-studio-march-2015-with-3.6.1-runtime-release-notes">Anypoint Studio March 2015 with 3.6.1 Runtime Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-studio-january-2015-with-3.6.1-runtime-update-site-2-release-notes">Anypoint Studio January 2015 with 3.6.1 Runtime - Update Site 2 Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-studio-january-2015-with-3.6.0-runtime-update-site-1-release-notes">Anypoint Studio January 2015 with 3.6.0 Runtime - Update Site 1 Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-studio-january-2015-with-3.6.0-runtime-release-notes">Anypoint Studio January 2015 with 3.6.0 Runtime Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-studio-october-2014-release-notes">Anypoint Studio October 2014 Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-studio-july-2014-with-3.5.1-runtime-update-site-2-release-notes">Anypoint Studio July 2014 with 3.5.1 Runtime - Update Site 2 Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-studio-july-2014-with-3.5.1-runtime-release-notes">Anypoint Studio July 2014 with 3.5.1 Runtime Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-studio-may-2014-with-3.5.0-runtime-release-notes">Anypoint Studio May 2014 with 3.5.0 Runtime Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-studio-with-3.5.0-m4-runtime-early-access-release-notes">Anypoint Studio with 3.5.0-M4 Runtime Early Access Release Notes</a></li><li><i></i><a href="/release-notes/mule-studio-december-2013-release-notes">Mule Studio December 2013 Release Notes</a></li><li><i></i><a href="/release-notes/mule-studio-october-2013-release-notes">Mule Studio October 2013 Release Notes</a></li><li><i></i><a href="/release-notes/mule-studio-release-notes-march-21-2012">Mule Studio Release Notes - March 21 2012</a></li><li><i></i><a href="/release-notes/mule-studio-release-notes-january-24-2012">Mule Studio Release Notes - January 24 2012</a></li></ul></li>
<li>
<i></i>
<a href="/release-notes/anypoint-connector-release-notes">Anypoint Connector Release Notes</a><ul>
<li><i></i><a href="/release-notes/amazon-sqs-connector-release-notes">Amazon SQS Connector Release Notes</a></li><li><i></i><a href="/release-notes/amazon-s3-connector-release-notes">Amazon S3 Connector Release Notes</a></li><li><i></i><a href="/release-notes/cassandra-connector-release-notes">Cassandra Connector Release Notes</a></li><li><i></i><a href="/release-notes/cloudhub-connector-release-notes">CloudHub Connector Release Notes</a></li><li><i></i><a href="/release-notes/cmis-connector-release-notes">CMIS Connector Release Notes</a></li><li><i></i><a href="/release-notes/concur-connector-release-notes">Concur Connector Release Notes</a></li><li><i></i><a href="/release-notes/dotnet-connector-release-notes">DotNet Connector Release Notes</a></li><li><i></i><a href="/release-notes/hdfs-connector-release-notes">HDFS Connector Version Release Notes</a></li><li><i></i><a href="/release-notes/hl7-connector-release-notes">HL7 Connector Release Notes</a></li><li><i></i><a href="/release-notes/magento-connector-release-notes">Magento Connector Release Notes</a></li><li><i></i><a href="/release-notes/marketo-connector-release-notes">Marketo Connector Release Notes</a></li><li><i></i><a href="/release-notes/microsoft-dynamics-ax-2012-connector-release-notes">Microsoft Dynamics AX 2012 Connector Release Notes</a></li><li><i></i><a href="/release-notes/microsoft-dynamics-crm-connector-release-notes">Microsoft Dynamics CRM Connector Release Notes</a></li><li><i></i><a href="/release-notes/microsoft-service-bus-connector-release-notes">Microsoft Service Bus Connector Release Notes</a></li><li><i></i><a href="/release-notes/microsoft-sharepoint-2013-connector-release-notes">Microsoft SharePoint 2013 Connector</a></li><li><i></i><a href="/release-notes/microsoft-sharepoint-2010-connector-release-notes">Microsoft SharePoint 2010 Connector Release Notes</a></li><li><i></i><a href="/release-notes/mongodb-connector-release-notes">MongoDB Connector Release Notes</a></li><li><i></i><a href="/release-notes/msmq-connector-release-notes">MSMQ Connector Release Notes</a></li><li><i></i><a href="/release-notes/mule-paypal-anypoint-connector-release-notes">Mule PayPal Anypoint Connector Release Notes</a></li><li><i></i><a href="/release-notes/netsuite-connector-release-notes">NetSuite Connector Release Notes</a></li><li><i></i><a href="/release-notes/objectstore-connector-release-notes">ObjectStore Connector Release Notes</a></li><li><i></i><a href="/release-notes/oracle-e-business-suite-ebs-connector-release-notes">Oracle E-Business Suite (EBS) Connector Release Notes</a></li><li><i></i><a href="/release-notes/peoplesoft-connector-release-notes">PeopleSoft Connector Release Notes</a></li><li><i></i><a href="/release-notes/sap-connector-release-notes">SAP Connector Release Notes</a></li><li><i></i><a href="/release-notes/salesforce-connector-release-notes">Salesforce Connector Release Notes</a></li><li><i></i><a href="/release-notes/salesforce-analytics-cloud-connector-release-notes">Salesforce Analytics Cloud Connector Release Notes</a></li><li><i></i><a href="/release-notes/servicenow-connector-5.0-release-notes">ServiceNow 5.0 Connector Release Notes</a></li><li><i></i><a href="/release-notes/servicenow-connector-release-notes">ServiceNow Connector Release Notes</a></li><li><i></i><a href="/release-notes/siebel-connector-release-notes">Siebel Connector Release Notes</a></li><li><i></i><a href="/release-notes/twitter-connector-release-notes">Twitter Connector Release Notes</a></li><li><i></i><a href="/release-notes/workday-connector-6.0-release-notes">Workday Connector 6.0 Release Notes</a></li><li><i></i><a href="/release-notes/workday-connector-release-notes">Workday Connector Release Notes</a></li></ul></li>
<li><i></i><a href="/release-notes/dataweave-1.2-release-notes">DataWeave 1.2 Release Notes</a></li><li>
<i></i>
<a href="/release-notes/anypoint-enterprise-security-release-notes">Anypoint Enterprise Security Release Notes</a><ul>
<li><i></i><a href="/release-notes/anypoint-enterprise-security-1.2-release-notes">Anypoint Enterprise Security 1.2 Release Notes</a></li></ul></li>
<li><i></i><a href="/release-notes/anypoint-platform-for-apis-release-notes">Anypoint Platform for APIs Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-data-gateway-release-notes">Anypoint Data Gateway Release Notes</a></li><li>
<i></i>
<a href="/release-notes/anypoint-b2b-release-notes">Anypoint B2B Release Notes</a><ul>
<li><i></i><a href="/release-notes/b2b-partner-manager-july-2015-beta-release-notes">Anypoint Partner Manager July 2015 Beta Release Notes</a></li><li><i></i><a href="/release-notes/b2b-partner-manager-september-2015-beta-release-notes">Anypoint Partner Manager September 2015 Beta Release Notes</a></li><li><i></i><a href="/release-notes/as2-connector-2.0.0-rc1-release-notes">AS2 Connector 2.0.0-RC1 Release Notes</a></li><li><i></i><a href="/release-notes/as2-connector-2.0.0-rc2-release-notes">AS2 Connector 2.0.0-RC2 Release Notes</a></li><li><i></i><a href="/release-notes/as2-connector-2.0.0-rc3-release-notes">AS2 Connector 2.0.0-RC3 Release Notes</a></li><li><i></i><a href="/release-notes/as2-connector-2.0.0-rc4-release-notes">AS2 Connector 2.0.0-RC4 Release Notes</a></li><li><i></i><a href="/release-notes/as2-connector-1.0.0-release-notes">AS2 Connector 1.0.0 Release Notes</a></li><li><i></i><a href="/release-notes/edi-module-1.0-beta-1-release-notes">EDI Module 1.0-beta-1 Release Notes</a></li><li><i></i><a href="/release-notes/edi-module-1.0-beta-2-release-notes">EDI Module 1.0-beta-2 Release Notes</a></li><li><i></i><a href="/release-notes/ftps-connector-1.0-beta-1-release-notes">FTPS Connector 1.0-beta-1 Release Notes</a></li><li><i></i><a href="/release-notes/ftps-connector-1.0.0-rc1-release-notes">FTPS Connector 1.0.0-RC1 Release Notes</a></li><li><i></i><a href="/release-notes/ftps-connector-1.0.0-rc2-release-notes">FTPS Connector 1.0.0-RC2 Release Notes</a></li><li><i></i><a href="/release-notes/ftps-connector-1.0.0-rc3-release-notes">FTPS Connector 1.0.0-RC3 Release Notes</a></li><li><i></i><a href="/release-notes/ftps-connector-1.0.0-rc4-release-notes">FTPS Connector 1.0.0-RC4 Release Notes</a></li><li><i></i><a href="/release-notes/x12-edifact-modules-1.0.0-rc2-release-notes">X12 and EDIFACT Modules 1.0.0-RC2 Release Notes</a></li><li><i></i><a href="/release-notes/x12-edifact-modules-1.0.0-rc-release-notes">X12 and EDIFACT Modules 1.0.0-RC Release Notes</a></li><li><i></i><a href="/release-notes/x12-edifact-modules-1.0-beta-3-release-notes">X12 and EDIFACT Modules 1.0-beta-3 Release Notes</a></li></ul></li>
<li>
<i></i>
<a href="/release-notes/anypoint-connector-devkit-release-notes">Anypoint Connector DevKit Release Notes</a><ul>
<li><i></i><a href="/release-notes/connector-migration-guide-mule-3.6-to-3.7">Connector Migration Guide - DevKit 3.6 to 3.7</a></li><li><i></i><a href="/release-notes/connector-migration-guide-mule-3.5-to-3.6">Connector Migration Guide - DevKit 3.5 to 3.6</a></li><li><i></i><a href="/release-notes/anypoint-connector-devkit-3.7.0-release-notes">Anypoint Connector DevKit 3.7.0 Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-connector-devkit-3.6.1.1-release-notes">Anypoint Connector DevKit 3.6.1.1 Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-connector-devkit-3.6.1-release-notes">Anypoint Connector DevKit 3.6.1 Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-connector-devkit-3.6.0-release-notes">Anypoint Connector DevKit 3.6.0 Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-connector-devkit-3.5.0-release-notes">Anypoint Connector DevKit 3.5.0 Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-connector-devkit-3.5.2-release-notes">Anypoint Connector DevKit 3.5.2 Release Notes</a></li></ul></li>
<li>
<i></i>
<a href="/release-notes/api-gateway-runtime">API Gateway Runtime Release Notes</a><ul>
<li><i></i><a href="/release-notes/api-gateway-2.0-and-newer-version-faq">API Gateway 2.0 and Newer Version FAQ</a></li><li><i></i><a href="/release-notes/api-gateway-2.1.0-release-notes">API Gateway Runtime 2.1.0 Release Notes</a></li><li><i></i><a href="/release-notes/api-gateway-2.0.3-release-notes">API Gateway Runtime 2.0.3 Release Notes</a></li><li><i></i><a href="/release-notes/api-gateway-2.0.2-release-notes">API Gateway Runtime 2.0.2 Release Notes</a></li><li>
<i></i>
<a href="/release-notes/api-gateway-2.0-release-notes">API Gateway Runtime 2.0 Release Notes</a><ul>
<li><i></i><a href="/release-notes/migration-guide-to-api-gateway-2.0.0-or-later">Migration Guide to API Gateway 2.0.0 or later</a></li></ul></li>
<li><i></i><a href="/release-notes/api-gateway-1.3.2-release-notes">API Gateway Runtime 1.3.2 Release Notes</a></li><li><i></i><a href="/release-notes/api-gateway-1.3.1-release-notes">API Gateway Runtime 1.3.1 Release Notes</a></li><li><i></i><a href="/release-notes/api-gateway-1.0.1-release-notes">API Gateway Runtime 1.0.1 Release Notes</a></li><li><i></i><a href="/release-notes/mule-agent-1.2.0-release-notes">Mule Agent 1.2.0 Release Notes</a></li><li><i></i><a href="/release-notes/mule-agent-1.1.1-release-notes">Mule Agent 1.1.1 Release Notes</a></li></ul></li>
<li><i></i><a href="/release-notes/anypoint-exchange-release-notes">Anypoint Exchange Release Notes</a></li><li>
<i></i>
<a href="/release-notes/cloudhub-release-notes">CloudHub Release Notes</a><ul>
<li><i></i><a href="/release-notes/cloudhub-r40-migration-guide">CloudHub R40 Migration Guide</a></li></ul></li>
<li><i></i><a href="/release-notes/munit-1.0.0-release-notes">MUnit 1.0.0 Release Notes</a></li><li><i></i><a href="/release-notes/munit-1.0-rc-release-notes">MUnit 1.0-RC Release Notes</a></li><li><i></i><a href="/release-notes/mule-maven-plugin-2.0-release-notes">Mule Maven Plugin 2.0 Release Notes</a></li><li>
<i></i>
<a href="/release-notes/deprecated-products">Deprecated Products</a><ul>
<li>
<i></i>
<a href="/release-notes/api-manager-release-notes">API Manager Release Notes</a><ul>
<li><i></i><a href="/release-notes/api-manager-6.0.x-release-notes">API Manager 6.0.X Release Notes</a></li><li><i></i><a href="/release-notes/api-manager-5.0.x-release-notes">API Manager 5.0.X Release Notes</a></li></ul></li>
<li>
<i></i>
<a href="/release-notes/anypoint-service-registry-release-notes">Anypoint Service Registry Release Notes</a><ul>
<li><i></i><a href="/release-notes/anypoint-service-registry-4.0.0-release-notes">Anypoint Service Registry 4.0.0 Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-service-registry-3.0.0-release-notes">Anypoint Service Registry 3.0.0 Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-service-registry-r2-release-notes">Anypoint Service Registry R2 Release Notes</a></li><li><i></i><a href="/release-notes/anypoint-service-registry-r1-release-notes">Anypoint Service Registry R1 Release Notes</a></li></ul></li>
</ul></li>
</ul></li>

                </ul>
            </nav>
        </div>
        <!-- END sidebar-nav -->
        <!-- START version notification -->

        <div class="older-version-notification col-md-9" data-swiftype-index='false'>You are viewing an older version of this section. Click <a href="/mule-user-guide/v/3.7">here</a> to see the latest version.</div>

        <!-- END older version notification -->
        <!-- START article content -->
        <div class="article-content col-md-7">
          
          <h1>E-store Example</h1>
          <div id="preamble"> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p><strong><em>Enterprise Edition</em></strong></p> 
  </div> 
  <div class="paragraph"> 
   <p>This example application simulates an online store that demonstrates Mule ESB’s ability to support common e-commerce use cases.</p> 
  </div> 
  <div class="paragraph"> 
   <p>The Mule ESB application enables end users to browse products on the online store, add items to an online cart, then checkout. Following the best practices of enterprise application architecture, this <strong>E-store</strong> example application consists of two parts, each fully implemented in Mule ESB:</p> 
  </div> 
  <div class="olist arabic"> 
   <ol class="arabic"> 
    <li> <p><strong>Client-side Frontend Application</strong><br> A client-side application which accepts end user requests from an AJAX-based graphical user interface (GUI). This application enables users to perform the following online shopping tasks:</p> 
     <div class="ulist"> 
      <ul> 
       <li> <p>display a list of products</p> </li> 
       <li> <p>add products to a cart</p> </li> 
       <li> <p>display contents of a cart</p> </li> 
       <li> <p>checkout (i.e. purchase products)<br> This front-end application uses AJAX to interact with the GUI on the end user’s browser, and JMS to exchange data in <a href="http://en.wikipedia.org/wiki/JSON">JSON format</a> with the back-end application.</p> </li> 
      </ul> 
     </div> </li> 
    <li> <p><strong>Server-side Backend Application</strong><br> An application-layer, server-side application which orchestrates services — internal and external — to complete end-user requests. The backend also transforms data into different formats according to the requirements of the external Web services.</p> </li> 
   </ol> 
  </div> 
  <div class="paragraph"> 
   <p>To operate as a fully functional example, this application also includes three components that simulate external, 3rd-party Web service providers:</p> 
  </div> 
  <div class="olist arabic"> 
   <ol class="arabic"> 
    <li> <p><strong>Barber’s Paradise Store</strong><br> A RESTful Web service with which the E-store backend interacts to support the end-user shopping experience (browsing items, purchasing products and fulfilling orders).</p> </li> 
    <li> <p><strong>Van Gogh Paint Store</strong><br> A SOAP Web service with which the E-store back-end interacts to support the end-user shopping experience (browsing items, purchasing products and fulfilling orders).</p> </li> 
    <li> <p><strong>Bank</strong><br> A RESTful Web service which performs complex validations on data — including both syntactic and semantic validation — in order to authorize end-user payments.</p> </li> 
   </ol> 
  </div> 
  <div class="paragraph"> 
   <p>Further, this Mule ESB example includes an AJAX-based graphical user interface (GUI) with which an end user interacts on a browser. This document describes the <strong>E-store User Interface</strong> further in a <a href="#the-e-store-user-interface">The E-store User Interface</a> below.</p> 
  </div> 
  <div class="paragraph"> 
   <p>This example should help you to make informed decisions about using Mule ESB to build or support e-commerce transactions. Learn how to:</p> 
  </div> 
  <div class="ulist"> 
   <ul> 
    <li> <p>use AJAX to interact with a Web browser from Mule ESB</p> </li> 
    <li> <p>interact synchronously and asynchronously with Mule ESB processes</p> </li> 
    <li> <p>consolidate data from different sources, then apply data transformation logic</p> </li> 
    <li> <p>route messages based on content</p> </li> 
    <li> <p>cache data to maximize the application’s performance</p> </li> 
    <li> <p>transform data using the Mule Expression Language (MEL)</p> </li> 
    <li> <p>interact with a relational database management system using a JDBC connector</p> </li> 
    <li> <p>expose and consume SOAP, REST and JMS services</p> </li> 
    <li> <p>configure an embedded instance of the ActiveMQ JMS message broker</p> </li> 
    <li> <p>handle errors using exception strategies</p> </li> 
    <li> <p>create output files on a file system</p> </li> 
   </ul> 
  </div> 
  <div class="paragraph"> 
   <p>To understand more about Mule ESB’s ability to integrate services and systems, access the Mule <a href="/mule-user-guide/v/3.3/mule-examples">examples</a>&nbsp;and see other applications in action.</p> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="assumptions"><a class="anchor" href="#assumptions"></a>Assumptions</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>This document assumes that you are familiar with Mule ESB&nbsp;and the <a href="/mule-user-guide/v/3.3/mule-studio-essentials">Mule Studio interface</a>. To increase your familiarity with Studio, consider completing one or more <a href="/mule-user-guide/v/3.3/mule-studio">Mule Studio Tutorials</a>.</p> 
  </div> 
  <div class="paragraph"> 
   <p>This document describes the details of the example within the context of <strong>Mule Studio</strong>, Mule ESB’s graphical user interface (GUI). Where appropriate, the XML configuration follows the Studio interface screenshot in an expandable section.</p> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="set-up"><a class="anchor" href="#set-up"></a>Set Up</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>As with this E-store example, you can create template applications straight out of the box in <strong>Mule Studio</strong>. You can tweak the configurations of these use case-based templates to create your own customized applications in Mule.</p> 
  </div> 
  <div class="paragraph"> 
   <p>Follow the procedure below to create, then run the E-store application in Mule ESB.</p> 
  </div> 
  <div class="olist arabic"> 
   <ol class="arabic"> 
    <li> <p>Complete the procedure in <a href="/mule-user-guide/v/3.3/mule-examples">Examples and Exercises</a>&nbsp;to create, then run the E-store template in Mule Studio.</p> </li> 
    <li> <p>Open your Web browser.</p> </li> 
    <li> <p>Type <code><a href="http://localhost:8090/estore/index.html" class="bare">http://localhost:8090/estore/index.html</a></code>, then press <strong>enter</strong> to display the E-store client-side user interface (see image below).</p> 
     <div class="paragraph"> 
      <p><span class="image"><img src="./_images/e-store_intro.png" alt="e-store_intro"></span></p> 
     </div> </li> 
   </ol> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="how-it-works"><a class="anchor" href="#how-it-works"></a>How it Works</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>The <strong>E-store</strong> application consists of several <a href="/mule-user-guide/v/3.3/mule-application-architecture">flows and subflows</a>. These flows integrate Web services that process end user requests to search for, then purchase products. You can build a Mule ESB application with any number of flows in one Mule Flow file (<code>.mflow</code>), or organize your flows into several Mule flow (<code>.mflow</code>) files. In a large project, like this <strong>E-store</strong> application, you may wish to use multiple <code>.mflow</code> files to structure the project in a way that makes it easy for other developers on your team to understand and maintain.</p> 
  </div> 
  <div class="paragraph"> 
   <p>This example application contains six Mule flow files (see image below), each of which contains several flows. Organized according to function, these flow files serve different purposes within the application.<br> <br> <span class="image"><img src="./_images/e-store_flows.png" alt="e-store_flows"></span></p> 
  </div> 
  <table class="tableblock frame-all grid-all spread"> 
   <colgroup> 
    <col style="width: 34%;"> 
    <col style="width: 33%;"> 
    <col style="width: 33%;"> 
   </colgroup> 
   <thead> 
    <tr> 
     <th class="tableblock halign-left valign-top">Flow File</th> 
     <th class="tableblock halign-left valign-top">Role</th> 
     <th class="tableblock halign-left valign-top">Description of Function</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>bank</strong></p></td> 
     <td class="tableblock halign-left valign-top"><p class="tableblock">3rd-party service provider</p></td> 
     <td class="tableblock halign-left valign-top"><p class="tableblock">Exposes a single REST Web service to simulate a bank’s payment validation and authorization activities.</p></td> 
    </tr> 
    <tr> 
     <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>e-storeBackend</strong></p></td> 
     <td class="tableblock halign-left valign-top"><p class="tableblock">server-side of E-store application</p></td> 
     <td class="tableblock halign-left valign-top"><p class="tableblock">Orchestrates services to implement the e-store’s application-layer business logic.</p></td> 
    </tr> 
    <tr> 
     <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>e-storeFrontend</strong></p></td> 
     <td class="tableblock halign-left valign-top"><p class="tableblock">client-side of E-store application</p></td> 
     <td class="tableblock halign-left valign-top"><p class="tableblock">Implements the user-facing AJAX services that support the Web-based end-user interface. This front-end part of the application gathers user session IDs to identify users’ shopping carts to the server-side.</p></td> 
    </tr> 
    <tr> 
     <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>initializedatabase</strong></p></td> 
     <td class="tableblock halign-left valign-top"><p class="tableblock">Database table creator</p></td> 
     <td class="tableblock halign-left valign-top"><p class="tableblock">Creates the embedded <a href="http://db.apache.org/derby/">Derby</a> database with the necessary tables for storing cart contents. (Mule automatically initializes the database when you run the application.) You need not create this part of the application in your customized application to publish a Web service; it exists in this example so you can examine a functional Web service.</p></td> 
    </tr> 
    <tr> 
     <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>provider-barbersparadise</strong></p></td> 
     <td class="tableblock halign-left valign-top"><p class="tableblock">3rd-party service provider</p></td> 
     <td class="tableblock halign-left valign-top"><p class="tableblock">Exposes a REST Web service to simulate the Barber’s Paradise Store Web service provider. End users can shop for Barber’s Paradise products on the E-store website.</p></td> 
    </tr> 
    <tr> 
     <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>provider-vangoghpaint</strong></p></td> 
     <td class="tableblock halign-left valign-top"><p class="tableblock">3rd-party service provider</p></td> 
     <td class="tableblock halign-left valign-top"><p class="tableblock">Exposes a SOAP Web service to simulate the Van Gogh’s Paint Store Web service provider. End users can shop for Van Gogh’s Paint products on the E-store website.</p></td> 
    </tr> 
   </tbody> 
  </table> 
  <div class="paragraph"> 
   <p>The meat of this example is the <strong>e-storeBackend</strong>. This group of flows orchestrates calls to external resources in order to compile orders and conduct purchases. In the universe of flows in this application, the <strong>e-storeBackend</strong> is the sun.</p> 
  </div> 
  <div class="paragraph"> 
   <p><span class="image"><img src="./_images/e-store_universe.png" alt="e-store_universe"></span></p> 
  </div> 
  <div class="paragraph"> 
   <p>The sections below offer use case-based descriptions of the activities the E-store performs to process end user requests.</p> 
  </div> 
  <div class="admonitionblock tip"> 
   <table> 
    <tbody> 
     <tr> 
      <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td> 
      <td class="content"> 
       <div class="paragraph"> 
        <p><strong>For Mule Studio Users</strong></p> 
       </div> 
       <div class="paragraph"> 
        <p>In Mule Studio, double-click a <a href="/mule-user-guide/v/3.3/studio-building-blocks">building block</a> to open its <strong>Properties Panel</strong>, then examine its configuration details. Alternatively, click the <strong>Configuration XML</strong> tab to examine the application’s XML configuration file.</p> 
       </div> 
       <div class="paragraph"> 
        <p><span class="image"><img src="./_images/config_tab.png" alt="config_tab"></span></p> 
       </div> </td> 
     </tr> 
    </tbody> 
   </table> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="e-store-activities"><a class="anchor" href="#e-store-activities"></a>E-store Activities</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>From a Web browser, a user sends requests to the E-store to perform several tasks. The table below describes the activities that the <strong>e-storeBackend</strong> flows orchestrate (i.e. the different things the e-storeBackend does) upon end-user request. The figure below illustrates the communication between the end-user, the e-store (front- and backends), and the 3rd-party service providers.</p> 
  </div> 
  <table class="tableblock frame-all grid-all spread"> 
   <colgroup> 
    <col style="width: 50%;"> 
    <col style="width: 50%;"> 
   </colgroup> 
   <thead> 
    <tr> 
     <th class="tableblock halign-left valign-top">User Request</th> 
     <th class="tableblock halign-left valign-top">e-storeBackend Activities</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td class="tableblock halign-left valign-top"><p class="tableblock"><strong><a href="#list-all-products">List All Products</a></strong></p></td> 
     <td class="tableblock halign-left valign-top"><p class="tableblock">Contacts both the Barber’s Paradise Store Web service and Van Gogh Store Web service to fetch a list of all the available products from each, then transforms the list of products JSON <a href="http://en.wikipedia.org/wiki/Canonicalization">canonical</a> format.</p></td> 
    </tr> 
    <tr> 
     <td class="tableblock halign-left valign-top"><p class="tableblock"><strong><a href="#add-product-to-cart">Add Product to Cart</a></strong></p></td> 
     <td class="tableblock halign-left valign-top"><p class="tableblock">Registers a selected product on the end-user’s shopping cart. An embedded, application-layer Derby database maintains the state of the cart.</p></td> 
    </tr> 
    <tr> 
     <td class="tableblock halign-left valign-top"><p class="tableblock"><strong><a href="#view-cart">View Cart</a></strong></p></td> 
     <td class="tableblock halign-left valign-top"><p class="tableblock">Queries the embedded Derby database for a list of products in the end user’s cart, then contacts 3rd-party service providers to fetch up-date prices and details of each product. Displays the current contents of the shopping cart on the end user’s browser.</p></td> 
    </tr> 
    <tr> 
     <td class="tableblock halign-left valign-top"><p class="tableblock"><strong><a href="#checkout">Checkout</a></strong></p></td> 
     <td class="tableblock halign-left valign-top"><p class="tableblock">Uses end user’s credit card information to verify payment authorization with the bank. Aggregates products for each service provider — all the Barbers Paradise products together, all the Van Gogh Paint products together — then submits one fulfillment order to each provider.</p></td> 
    </tr> 
    <tr> 
     <td class="tableblock halign-left valign-top"><p class="tableblock"><strong><a href="#clear-cart-contents">Clear Cart Contents</a></strong></p></td> 
     <td class="tableblock halign-left valign-top"><p class="tableblock">Clears the contents of database table which contains the end user’s cart contents.</p></td> 
    </tr> 
   </tbody> 
  </table> 
  <div class="paragraph"> 
   <p><span class="image"><img src="./_images/estore.png" alt="estore"></span></p> 
  </div> 
  <div class="paragraph"> 
   <p>The following sub-sections describe Mule ESB’s actions as it processes end user requests (as described briefly in the table above). However, before diving into the use-case details, the first sub-section offers a description of the Web-based user interface.</p> 
  </div> 
  <div class="sect2"> 
   <h3 id="the-e-store-user-interface"><a class="anchor" href="#the-e-store-user-interface"></a>The E-store User Interface</h3> 
   <div class="paragraph"> 
    <p><span class="image"><img src="./_images/e-store_intro.png" alt="e-store_intro"></span></p> 
   </div> 
   <div class="paragraph"> 
    <p>The E-store example application includes an AJAX-based GUI supported by the <a href="http://en.wikipedia.org/wiki/JQuery_UI">JQuery-UI</a> framework. To examine the code of the client-side interface, access the <code>index.html</code> file in the <code>src/main/app/docroot</code> folder in Mule.</p> 
   </div> 
   <div class="admonitionblock tip"> 
    <table> 
     <tbody> 
      <tr> 
       <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td> 
       <td class="content"> 
        <div class="paragraph"> 
         <p><strong>How Do I Access the Index File?</strong><br></p> 
        </div> 
        <div class="olist arabic"> 
         <ol class="arabic"> 
          <li> <p>In the <strong>Package Explorer</strong>, click to expand the <code>src</code> folder.</p> </li> 
          <li> <p>Click to expand folders to navigate to <code>main</code> &gt; <code>app</code> &gt; <code>docroot</code>.</p> </li> 
          <li> <p>Double-click the <code>index.html</code> file to open the file in a new canvas pane in Studio.</p> </li> 
         </ol> 
        </div> </td> 
      </tr> 
     </tbody> 
    </table> 
   </div> 
   <div class="paragraph"> 
    <p>Each tab and button on the GUI (with the exception of the <strong>Welcome</strong> tab) corresponds to a flow in the <strong>e-storeFrontend</strong> flow file. When a user clicks on one of the buttons or tabs, Mule activates its corresponding frontend flow to initiate a request to the <strong>e-storeBackend</strong> flows (see table, and code, below).</p> 
   </div> 
   <table class="tableblock frame-all grid-all spread"> 
    <colgroup> 
     <col style="width: 50%;"> 
     <col style="width: 50%;"> 
    </colgroup> 
    <thead> 
     <tr> 
      <th class="tableblock halign-left valign-top">GUI Tab or Button</th> 
      <th class="tableblock halign-left valign-top">e-storeFrontend Flow</th> 
     </tr> 
    </thead> 
    <tbody> 
     <tr> 
      <td class="tableblock halign-left valign-top"><p class="tableblock">List all products</p></td> 
      <td class="tableblock halign-left valign-top"><p class="tableblock">e-storeFrontend-listProducts</p></td> 
     </tr> 
     <tr> 
      <td class="tableblock halign-left valign-top"><p class="tableblock">Products</p></td> 
      <td class="tableblock halign-left valign-top"><p class="tableblock">e-storeFrontend-listProducts</p></td> 
     </tr> 
     <tr> 
      <td class="tableblock halign-left valign-top"><p class="tableblock">My Cart</p></td> 
      <td class="tableblock halign-left valign-top"><p class="tableblock">e-storeFrontend-showCart</p></td> 
     </tr> 
     <tr> 
      <td class="tableblock halign-left valign-top"><p class="tableblock">Add to cart</p></td> 
      <td class="tableblock halign-left valign-top"><p class="tableblock">e-storeFrontend-addToCart</p></td> 
     </tr> 
     <tr> 
      <td class="tableblock halign-left valign-top"><p class="tableblock">View my shopping cart</p></td> 
      <td class="tableblock halign-left valign-top"><p class="tableblock">e-storeFrontend-showCart</p></td> 
     </tr> 
     <tr> 
      <td class="tableblock halign-left valign-top"><p class="tableblock">Clear cart contents</p></td> 
      <td class="tableblock halign-left valign-top"><p class="tableblock">e-storeFrontend-clearCart</p></td> 
     </tr> 
     <tr> 
      <td class="tableblock halign-left valign-top"><p class="tableblock">Checkout</p></td> 
      <td class="tableblock halign-left valign-top"><p class="tableblock">e-storeFrontend-getCartTotal</p></td> 
     </tr> 
     <tr> 
      <td class="tableblock halign-left valign-top"><p class="tableblock">Proceed to checkout</p></td> 
      <td class="tableblock halign-left valign-top"><p class="tableblock">e-storeFrontend-getCartTotal</p></td> 
     </tr> 
     <tr> 
      <td class="tableblock halign-left valign-top"><p class="tableblock">Verify payment and submit order</p></td> 
      <td class="tableblock halign-left valign-top"><p class="tableblock">e-storeFrontend-doCheckout</p></td> 
     </tr> 
    </tbody> 
   </table> 
   <div class="paragraph"> 
    <p><strong>View Code for Tabs</strong></p> 
   </div> 
   <div class="listingblock"> 
    <div class="content"> 
     <pre class="CodeRay highlight"><code data-lang="code">
          
       <table class="CodeRay"> 
        <tbody> 
         <tr> 
          <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
19
<strong>20</strong>
</pre></td> 
          <td class="code"><pre>tabs = $("#tabs").tabs({selected: 0});
&nbsp;
$('#tabs').bind('tabsselect', function(event, ui) {
&nbsp;&nbsp;&nbsp;&nbsp;if (ui.tab.hash == "#listProducts") {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$("#products").empty();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$("#products").append("Loading products, please wait...");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mule.rpc("/estore/listProducts", "", listProductsResponse);
&nbsp;&nbsp;&nbsp;&nbsp;} else if (ui.tab.hash == "#showCart") {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$("#cartProducts").empty();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$("#cartProducts").append("Loading cart contents, please wait...");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mule.rpc("/estore/showCart", "", showCartResponse);
&nbsp;&nbsp;&nbsp;&nbsp;} else if (ui.tab.hash == "#checkout") {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$("#checkoutTotal").html("0.00");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$("#checkoutComments").html("&lt;p&gt;You don't have any items on your cart yet! Add some on the products tab before checkout!&lt;/p&gt;");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$("#checkoutForm :input").val("");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$("#checkoutForm :input").attr("disabled", true);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$("#doCheckoutButton").button({ disabled: true});
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mule.rpc("/estore/getCartTotal", "", prepareCheckoutResponse);
&nbsp;&nbsp;&nbsp;&nbsp;}
});</pre></td> 
         </tr> 
        </tbody> 
       </table></code></pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p><strong>View Code for Add to Cart Button</strong></p> 
   </div> 
   <div class="listingblock"> 
    <div class="content"> 
     <pre class="CodeRay highlight"><code data-lang="code">
          
       <table class="CodeRay"> 
        <tbody> 
         <tr> 
          <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td> 
          <td class="code"><pre>$('#addProductToCartButton').click(function() {
&nbsp;&nbsp;&nbsp;&nbsp;var data = {};
&nbsp;&nbsp;&nbsp;&nbsp;data['productCode'] = $("#addToCartForm #productCode").val();
&nbsp;&nbsp;&nbsp;&nbsp;data['provider'] = $("#addToCartForm #productProvider").val();
&nbsp;&nbsp;&nbsp;&nbsp;data['qty'] = $("#addToCartForm #qty").val();
&nbsp;&nbsp;&nbsp;&nbsp;data['price'] = $("#addToCartForm #price").val();
&nbsp;&nbsp;&nbsp;&nbsp;mule.rpc("/estore/addToCart", JSON.stringify(data), addToCartResponse);
})</pre></td> 
         </tr> 
        </tbody> 
       </table></code></pre> 
    </div> 
   </div> 
   <div class="paragraph"> 
    <p>The <code>index.html</code> file imports the <strong>Mule.rpc AJAX client</strong>, along with the Jquery UI scripts, in the HTML header (see code below). The client uses different “channels” to send each user request to its corresponding e-storeFrontend flow. Each flow, in turn, listens to only one channel. Mule transfers all data to and from the end user’s browser in JSON format.</p> 
   </div> 
   <div class="paragraph"> 
    <p><strong>View the Header</strong></p> 
   </div> 
   <div class="listingblock"> 
    <div class="content"> 
     <pre class="CodeRay highlight"><code data-lang="code">
          
       <table class="CodeRay"> 
        <tbody> 
         <tr> 
          <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td> 
          <td class="code"><pre>&lt;head&gt;
&nbsp;&nbsp;&lt;link href="css/south-street/jquery-ui-1.8.20.custom.css" rel="stylesheet" type="text/css"/&gt;
&nbsp;&nbsp;&lt;link href="css/estore.css" rel="stylesheet" type="text/css"/&gt;
&nbsp;&nbsp;&lt;script type="text/javascript" src="js/jquery-1.7.2.min.js"&gt;&lt;/script&gt;
&nbsp;&nbsp;&lt;script type="text/javascript" src="js/jquery-ui-1.8.20.custom.min.js"&gt;&lt;/script&gt;
&nbsp;&nbsp;&lt;script type="text/javascript" src="mule-resource/js/mule.js"&gt;&lt;/script&gt;
&lt;/head&gt;</pre></td> 
         </tr> 
        </tbody> 
       </table></code></pre> 
    </div> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="list-all-products"><a class="anchor" href="#list-all-products"></a>List All Products</h3> 
   <div class="paragraph"> 
    <p>The E-store application enables users to retrieve a list of all the products available for purchase in the online store. The following diagram illustrates E-store’s activities to retrieve a list of available products.</p> 
   </div> 
   <div class="paragraph"> 
    <p><span class="image"><img src="./_images/model.png" alt="model"></span></p> 
   </div> 
   <div class="sect3"> 
    <h4 id="e-storefrontend"><a class="anchor" href="#e-storefrontend"></a>e-storeFrontend</h4> 
    <div class="paragraph"> 
     <p>When an end user submits a request to list all products available for purchase on the e-store, the client-side interface activates the <strong>e-storeFrontend-listProducts</strong> flow in the <code>e-storeFrontend.mflow file</code> (see image below).</p> 
    </div> 
    <div class="paragraph"> 
     <p><span class="image"><img src="./_images/Screen+Shot+2012-06-18+at+6.43.27+PM.png" alt="Screen+Shot+2012-06-18+at+6.43.27+PM"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p><strong>View the XML</strong></p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td> 
           <td class="code"><pre>&lt;flow name="e-storeFrontend-listProducts" doc:name="e-storeFrontend-listProducts"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ajax:inbound-endpoint channel="/estore/listProducts" responseTimeout="10000" connector-ref="ajaxServer" doc:name="/estore/listProducts"&gt;&lt;/ajax:inbound-endpoint&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;response&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;object-to-string-transformer doc:name="Object to String"&gt;&lt;/object-to-string-transformer&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/response&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;jms:outbound-endpoint exchange-pattern="request-response" queue="estore.listProducts" connector-ref="Active_MQ" doc:name="Request product list to backend"&gt;&lt;/jms:outbound-endpoint&gt;&nbsp;
&lt;/flow&gt;</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>The <strong><a href="/mule-user-guide/v/3.3/ajax-endpoint-reference">AJAX Endpoint</a></strong>&nbsp;“listens” for a request from the <strong>mule.rpc client</strong> on the <strong>/estore/listProducts</strong> channel (see image below, left), and upon receipt, passes the request to the outbound <a href="/mule-user-guide/v/3.3/jms-transport-reference"><strong>JMS Endpoint</strong>.</a> The JMS endpoint sends the messages to a JMS queue, <code>estore.listProducts</code>, in the e-storeBackend (see image below, right). Mule uses <strong>Global ActiveMQ Connectors</strong> to implement JMS messaging in the E-store application.</p> 
    </div> 
    <div class="paragraph"> 
     <p><span class="image"><img src="./_images/ajax_and_JMS.png" alt="ajax_and_JMS"></span></p> 
    </div> 
    <div class="admonitionblock tip"> 
     <table> 
      <tbody> 
       <tr> 
        <td class="icon"> <i class="fa icon-tip" title="Tip"></i> </td> 
        <td class="content"> 
         <div class="paragraph"> 
          <p><strong>What is a Global Connector?</strong></p> 
         </div> 
         <div class="paragraph"> 
          <p>Mule ESB uses <strong>Global Elements</strong>, like the <strong>ActiveMQ Connector</strong> in the E-store example, to specify transport details and set reusable configurations.</p> 
         </div> 
         <div class="paragraph"> 
          <p>Rather than repeatedly write the same code to apply the same configuration to multiple message processors, you can create one global element that details your configurations or transport details. Then, you can instruct any number of message processors in your Mule application to reference that global element.</p> 
         </div> </td> 
       </tr> 
      </tbody> 
     </table> 
    </div> 
    <div class="paragraph"> 
     <p><strong>View ActiveMQ Connector Code</strong></p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
</pre></td> 
           <td class="code"><pre>&lt;jms:activemq-connector name="Active_MQ" specification="1.1" brokerURL="vm://localhost" validateConnections="true" doc:name="Active_MQ"/&gt;</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
   </div> 
   <div class="sect3"> 
    <h4 id="e-storebackend"><a class="anchor" href="#e-storebackend"></a>e-storeBackend</h4> 
    <div class="paragraph"> 
     <p>The JMS endpoint in the <strong>listProducts</strong> flow listens for requests from the <strong>e-storeFrontend-listProducts</strong> flow on the <code>estore.listProducts</code> <a href="http://en.wikipedia.org/wiki/Java_Message_Service">JMS queue</a> (see image below).</p> 
    </div> 
    <div class="paragraph"> 
     <p><span class="image"><img src="./_images/listproductsA.png" alt="listproductsA"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p><span class="image"><img src="./_images/listproductsB.png" alt="listproductsB"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p><strong>View the XML</strong></p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
19
<strong>20</strong>
21
22
23
24
25
</pre></td> 
           <td class="code"><pre>&lt;flow name="listProducts" doc:name="listProducts"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;jms:inbound-endpoint exchange-pattern="request-response" queue="estore.listProducts" connector-ref="Active_MQ2" doc:name="JMS"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set-variable variableName="allProducts" value="#\[new java.util.LinkedList()\]" doc:name="Initialize output list"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;all doc:name="All"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ee:cache cachingStrategy-ref="listProductsBarbersParadiseCachingStrategy" doc:name="Cache"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;http:outbound-endpoint exchange-pattern="request-response" host="localhost" port="9080" path="barbersparadise/products" method="GET" connector-ref="HttpConnector" doc:name="Fetch products from Barbers Paradise Store"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ee:cache&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;splitter expression="#[json:]" doc:name="Split received products list"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;DataMapper:transform config-ref="barbersParadiseToCanonicalJSON" doc:name="Transform to canonical JSON"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;object-to-string-transformer doc:name="Object to String"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;expression-transformer expression="flowVars['allProducts'].add(payload)" doc:name="Add product to output list"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ee:cache cachingStrategy-ref="listProductsVangoghPaintStoreCachingStrategy" doc:name="Cache"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;flow-ref name="subflow-fetchProductsFromVanGoghPaintStore" doc:name="subflow-fetchProductsFromVanGoghPaintStore"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ee:cache&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;collection-splitter doc:name="Split received collection"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;DataMapper:transform config-ref="vanGoghPaintToCanonicalJSON" doc:name="Transform to canonical JSON"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;object-to-string-transformer doc:name="Object to String"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;expression-transformer expression="flowVars['allProducts'].add(payload)" doc:name="Add product to output list"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/all&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;expression-transformer expression="allProducts" doc:name="Set payload to output list"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/flow&gt;</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>This flow uses a <strong><a href="/mule-user-guide/v/3.3/variable-transformer-reference">Set Variable Transformer</a></strong>&nbsp;to set a new LinkedList variable on the message (see image below). This <code>allProducts</code> list is empty, and is about to be filled with data Mule retrieves from the 3rd-party service providers.</p> 
    </div> 
    <div class="paragraph"> 
     <p><span class="image"><img src="./_images/allProducts.png" alt="allProducts"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p>Next, Mule must send a request to both Barber’s Paradise and Van Gogh’s paint store to retrieve a list of all the products they offer for sale. To do this, Mule uses an <a href="/mule-user-guide/v/3.3/all-flow-control-reference"><strong>All Router</strong></a>&nbsp;which sends the request to both an <strong><a href="/mule-user-guide/v/3.3/http-endpoint-reference">HTTP Endpoint</a>&nbsp;*and a *<a href="/mule-user-guide/v/3.3/flow-ref-component-reference">Flow Reference&nbsp;Component</a></strong>.</p> 
    </div> 
    <div class="paragraph"> 
     <p>The request-response HTTP endpoint uses a <code>GET</code> method to fetch a list of products from Barber’s Paradise’s RESTful Web service (see image below). Mule <strong><a href="/mule-user-guide/v/3.3/cache-scope">caches</a></strong>&nbsp;the response from Barber’s Paradise to reuse the list of products the next time the end user makes the same request. Caching the response decreases the number of calls to the service provider thus improving the application’s performance.</p> 
    </div> 
    <div class="paragraph"> 
     <p><span class="image"><img src="./_images/get_method.png" alt="get_method"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p>The HTTP endpoint triggers the <strong>listOrGETProducts</strong> flow in the <code>providers-barbersParadise.mflow file</code> through the URL \{<code>nolink:http://localhost:9080/barbersparadise/products</code>. Barber’s Paradise returns a JSON-formatted list of products (see code below).</p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
19
<strong>20</strong>
21
22
</pre></td> 
           <td class="code"><pre>[
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"upc": "1827349",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"description": "Billy-boy forever-sharp razors",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"price": "9.95"
&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"upc": "7727362",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"description": "Mama Juana aftershave potion",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"price": "12.99"
&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"upc": "1762738",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"description": "Ultrasmooth shave foam",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"price": "3.50"
&nbsp;&nbsp;&nbsp;&nbsp;},
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"upc": "87668334",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"description": "UltraQuickHeal scar tissues",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"price": "1.95"
&nbsp;&nbsp;&nbsp;&nbsp;}
]</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>Upon receipt of the list, Mule uses a <strong>Splitter</strong> with an empty JSON expression (<code>"#[json:]"</code>) to split the collection of data into individual items, such as the one displayed in the code below.</p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
2
3
4
5
</pre></td> 
           <td class="code"><pre>{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"upc": "1827349",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"description": "Billy-boy forever-sharp razors",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"price": "9.95"
&nbsp;&nbsp;&nbsp;&nbsp;}</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>Next, Mule employs an&nbsp;<strong><a href="/mule-user-guide/v/3.3/datamapper-transformer-reference">Anypoint DataMapper Transformer</a></strong>&nbsp;to map the data from one format to another (see image and table below). This mapping normalizes the data, making it usable by the E-store application (see example of normalized data below).</p> 
    </div> 
    <div class="paragraph"> 
     <p><span class="image"><img src="./_images/dataMapping1.png" alt="dataMapping1"></span></p> 
    </div> 
    <table class="tableblock frame-all grid-all spread"> 
     <colgroup> 
      <col style="width: 50%;"> 
      <col style="width: 50%;"> 
     </colgroup> 
     <thead> 
      <tr> 
       <th class="tableblock halign-left valign-top">From</th> 
       <th class="tableblock halign-left valign-top">To</th> 
      </tr> 
     </thead> 
     <tbody> 
      <tr> 
       <td class="tableblock halign-left valign-top"><p class="tableblock">upc</p></td> 
       <td class="tableblock halign-left valign-top"><p class="tableblock">productId</p></td> 
      </tr> 
      <tr> 
       <td class="tableblock halign-left valign-top"><p class="tableblock">description</p></td> 
       <td class="tableblock halign-left valign-top"><p class="tableblock">productDescription</p></td> 
      </tr> 
      <tr> 
       <td class="tableblock halign-left valign-top"><p class="tableblock"><em>n/a</em></p></td> 
       <td class="tableblock halign-left valign-top"><p class="tableblock">providerId</p></td> 
      </tr> 
      <tr> 
       <td class="tableblock halign-left valign-top"><p class="tableblock">price</p></td> 
       <td class="tableblock halign-left valign-top"><p class="tableblock">price</p></td> 
      </tr> 
     </tbody> 
    </table> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td> 
           <td class="code"><pre>{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"productId": "1827349",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"productDescription": "Billy-boy forever-sharp razors",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"providerId": "BARBER",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"price": "9.95"
}</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>Mule then uses a an <strong>Object to String Transformer</strong> to convert the list data from a Java object to a string. This action prepares the content for Mule to add it to the list variable. The <strong>Expression Transformer</strong> uses an <strong>expression</strong> to add the payload to the <code>allProducts</code> variable.</p> 
    </div> 
    <div class="paragraph"> 
     <p><span class="image"><img src="./_images/expression_transform.png" alt="expression_transform"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p>The process Mule uses to fetch a list of products from Van Gogh’s Paint Store differs slightly because the Van Gogh exposes a SOAP Web service. Upon receipt of a message from the choice router, the flow reference component directs the message to the <strong>subflow-fetchProductsFromVanGoghPaintStore</strong> subflow.<br> <span class="image"><img src="./_images/fetch_subflow.png" alt="fetch_subflow"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p><strong>View the XML</strong></p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
2
3
4
</pre></td> 
           <td class="code"><pre>&lt;sub-flow name="subflow-fetchProductsFromVanGoghPaintStore" doc:name="subflow-fetchProductsFromVanGoghPaintStore"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;cxf:jaxws-client operation="listProducts" serviceClass="com.mulesoft.example.estore.clients.provider.vangoghpaintstore.B2BStore" port="80" enableMuleSoapHeaders="true" doc:name="Prepare SOAP request"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;http:outbound-endpoint exchange-pattern="request-response" host="localhost" port="9081" path="vangoghpaintstore" doc:name="Invoke SOAP request"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/sub-flow&gt;</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>The <strong><a href="/mule-user-guide/v/3.3/soap-component-reference">SOAP&nbsp;Component</a></strong>&nbsp;configures the client-side request that the HTTP Endpoint sends to Van Gogh’s Web service (see image below).</p> 
    </div> 
    <div class="paragraph"> 
     <p><span class="image"><img src="./_images/SOAP_VanGogh.png" alt="SOAP_VanGogh"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p>The subflow injects the Web service response — a collection ---into the main <strong>listProducts</strong> flow where Mule caches the data. The <strong><a href="/mule-user-guide/v/3.3/splitter-flow-control-reference">Collection Splitter</a></strong>&nbsp;splits the collection into individual items before the DataMapper maps each item into a normalized, usable format for the E-store application (see table below).</p> 
    </div> 
    <table class="tableblock frame-all grid-all spread"> 
     <colgroup> 
      <col style="width: 50%;"> 
      <col style="width: 50%;"> 
     </colgroup> 
     <thead> 
      <tr> 
       <th class="tableblock halign-left valign-top">From</th> 
       <th class="tableblock halign-left valign-top">To</th> 
      </tr> 
     </thead> 
     <tbody> 
      <tr> 
       <td class="tableblock halign-left valign-top"><p class="tableblock">upc</p></td> 
       <td class="tableblock halign-left valign-top"><p class="tableblock">productId</p></td> 
      </tr> 
      <tr> 
       <td class="tableblock halign-left valign-top"><p class="tableblock">brand</p></td> 
       <td class="tableblock halign-left valign-top"><p class="tableblock">productDescription</p></td> 
      </tr> 
      <tr> 
       <td class="tableblock halign-left valign-top"><p class="tableblock">color</p></td> 
       <td class="tableblock halign-left valign-top"><p class="tableblock">productDescription</p></td> 
      </tr> 
      <tr> 
       <td class="tableblock halign-left valign-top"><p class="tableblock"><em>n/a</em></p></td> 
       <td class="tableblock halign-left valign-top"><p class="tableblock">providerId</p></td> 
      </tr> 
      <tr> 
       <td class="tableblock halign-left valign-top"><p class="tableblock">price</p></td> 
       <td class="tableblock halign-left valign-top"><p class="tableblock">price</p></td> 
      </tr> 
     </tbody> 
    </table> 
    <div class="paragraph"> 
     <p>As in the Barber’s Paradise process, Mule transforms the normalized data from a Java object to a string, then adds the data to the <code>allProducts</code> variable. The <strong>Set Payload to output list</strong> expression transformer explicitly sets the message payload to the contents of the <code>allProducts</code> variable allProducts. The payload now contains an aggregated list of products available from Barber’s Paradise and Van Gogh’s Paint in E-store’s JSON format.</p> 
    </div> 
    <div class="paragraph"> 
     <p>Mule returns the message to the <strong>e-storeFrontend-listProducts</strong> flow, which uses AJAX to send the response to the end user’s browser.</p> 
    </div> 
    <div class="paragraph"> 
     <p><span class="image"><img src="./_images/listofproducts.png" alt="listofproducts"></span></p> 
    </div> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="add-product-to-cart"><a class="anchor" href="#add-product-to-cart"></a>Add Product to Cart</h3> 
   <div class="paragraph"> 
    <p>The E-store application enables users to add items to a virtual shopping cart. The following diagram illustrates the actions the E-store application performs to add an item to a cart.<br> <br> <span class="image"><img src="./_images/model2.png" alt="model2"></span></p> 
   </div> 
   <div class="sect3"> 
    <h4 id="e-storefrontend-2"><a class="anchor" href="#e-storefrontend-2"></a>e-storeFrontend</h4> 
    <div class="paragraph"> 
     <p>When an end user drags an item in the GUI from the product list to the cart column, the client-side interface activates the <strong>e-storeFrontend-addToCart</strong> flow in the <code>e-storeFrontend.mflow file</code> (see image below).</p> 
    </div> 
    <div class="paragraph"> 
     <p><span class="image"><img src="./_images/add_to_cart_flow.png" alt="add_to_cart_flow"></span>!</p> 
    </div> 
    <div class="paragraph"> 
     <p><strong>View the XML</strong></p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
2
3
4
5
</pre></td> 
           <td class="code"><pre>&lt;flow name="e-storeFrontend-addToCart" doc:name="e-storeFrontend-addToCart"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ajax:inbound-endpoint channel="/estore/addToCart" responseTimeout="10000" doc:name="/estore/addToCart"&gt;&lt;/ajax:inbound-endpoint&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set-property propertyName="sessionId" value="#[flowVars['cometd.client'].toString()]" doc:name="Set session id from AJAX client id"&gt;&lt;/set-property&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;jms:outbound-endpoint queue="estore.addToCart" connector-ref="Active_MQ" doc:name="Request add product to cart to backend"&gt;&lt;/jms:outbound-endpoint&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/flow&gt;</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>In this flow, the AJAX endpoint listens for a request on the <strong>/estore/addToCart</strong> channel. The request contains product code, provider name, quantity and price. The <strong><a href="/mule-user-guide/v/3.3/property-transformer-reference">Property Transformer</a>&nbsp;</strong>extracts the <a href="http://en.wikipedia.org/wiki/Session_ID">session ID</a> of the end user’s AJAX session from the <strong>comtd.clien</strong> property (on the inbound properties of the message). Mule then uses an <a href="/mule-user-guide/v/3.3/mule-expression-language-mel">expression</a>&nbsp;to set a new <strong>sessionId</strong> variable on the message (see image below). Mule uses the this sessionID variable to associate a specific end user to his cart, thereby ensuring the user sees only the contents of his own cart.</p> 
    </div> 
    <div class="paragraph"> 
     <p><span class="image"><img src="./_images/property_variable.png" alt="property_variable"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p><strong>View the XML</strong></p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
</pre></td> 
           <td class="code"><pre>&lt;set-property propertyName="sessionId" value="#[flowVars['cometd.client'].toString()]" doc:name="Set session id from AJAX client id"&gt;</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>The JMS endpoint sends the message to a JMS queue, <code>estore.addToCart</code>, in the e-storeBackend.</p> 
    </div> 
   </div> 
   <div class="sect3"> 
    <h4 id="e-storebackend-2"><a class="anchor" href="#e-storebackend-2"></a>e-storeBackend</h4> 
    <div class="paragraph"> 
     <p>The JMS endpoint in the <strong>addToCart</strong> flow listens for requests the <strong>e-storeFrontend-addToCart</strong> flow sends to the <code>estore.addToCart</code> JMS queue (see image below).</p> 
    </div> 
    <div class="paragraph"> 
     <p>+ <span class="image"><img src="./_images/add_to_cart_flow2.png" alt="add_to_cart_flow2"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p><strong>View the XML</strong></p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
2
3
4
</pre></td> 
           <td class="code"><pre>&lt;flow name="addToCart" doc:name="addToCart"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;jms:inbound-endpoint queue="estore.addToCart" connector-ref="Active_MQ2" doc:name="JMS"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;jdbc-ee:outbound-endpoint exchange-pattern="one-way" queryKey="query-addToCart" queryTimeout="-1" connector-ref="JDBCConnector" doc:name="Store product on cart table"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/flow&gt;</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>The outbound <strong><a href="/mule-user-guide/v/3.3/database-jdbc-endpoint-reference">JDBC Endpoint</a>&nbsp;</strong>in this flow performs two tasks:</p> 
    </div> 
    <div class="olist arabic"> 
     <ol class="arabic"> 
      <li> <p>it accesses the database</p> </li> 
      <li> <p>it saves data to the database</p> </li> 
     </ol> 
    </div> 
    <div class="paragraph"> 
     <p>To perform these tasks, the JDBC endpoint works in conjunction with two other elements: a <strong>Global JDBC Connector</strong> and a <strong>SQL Query</strong>, or stored procedure.</p> 
    </div> 
    <div class="paragraph"> 
     <p>The <a href="/mule-user-guide/v/3.3/jdbc-transport-reference"><strong>JDBC Connector</strong></a>&nbsp;— a global element in the E-store example application — helps the JDBC Endpoint with its tasks (listed above).</p> 
    </div> 
    <div class="olist arabic"> 
     <ol class="arabic"> 
      <li> <p>As a <a href="/mule-user-guide/v/3.3/connecting-using-transports">connector</a>, it helps the JDBC endpoint access the database by providing specific details about how to connect to it, such as where it exists (in this case, the Derby database is embedded in the E-store application), and how to gain access to it (username and password for database). See image below, top.</p> </li> 
      <li> <p>It stores SQL queries (i.e. stored procedures), one of which the JDBC endpoint in this flow references to save data to the database (below, right). <code>query-addToCart</code> inserts the <strong>product code</strong> and <strong>session id</strong> into the shopping cart table on the embedded Derby database. See image below, bottom.</p> 
       <div class="paragraph"> 
        <p><span class="image"><img src="./_images/global_jdbc_all.png" alt="global_jdbc_all"></span></p> 
       </div> </li> 
     </ol> 
    </div> 
    <div class="paragraph"> 
     <p><strong>View the XML</strong></p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
</pre></td> 
           <td class="code"><pre>&lt;spring:beans&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;spring:bean id="Derby_Data_Source" class="org.enhydra.jdbc.standard.StandardXADataSource" destroy-method="shutdown"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;spring:property name="driverName" value="org.apache.derby.jdbc.EmbeddedDriver"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;spring:property name="url" value="jdbc:derby:muleEmbeddedDB;create=true"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/spring:bean&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/spring:beans&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;jdbc:connector name="JDBCConnector" dataSource-ref="Derby_Data_Source" validateConnections="true" queryTimeout="-1" pollingFrequency="0" doc:name="JDBCConnector"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;jdbc:query key="query-addToCart" value="INSERT INTO cart (session_id, product_id, provider, quantity) VALUES (#[header:inbound:sessionId], #[json:productCode], #[json:provider], #[json:qty])"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;jdbc:query key="query-showCart" value="SELECT * FROM cart WHERE session_id = #[header:inbound:sessionId]"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;jdbc:query key="query-clearCart" value="DELETE FROM cart WHERE session_id = #[header:inbound:sessionId]"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/jdbc:connector&gt;</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="admonitionblock note"> 
     <table> 
      <tbody> 
       <tr> 
        <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> 
        <td class="content"> 
         <div class="paragraph"> 
          <p><strong>Using Expressions to Extract Values</strong></p> 
         </div> 
         <div class="paragraph"> 
          <p>Mule uses expressions to extract values from different parts of the message. The table below illustrates some of the data Mule extracts from messages in the E-store application.</p> 
         </div> 
         <table class="tableblock frame-all grid-all spread"> 
          <colgroup> 
           <col style="width: 34%;"> 
           <col style="width: 33%;"> 
           <col style="width: 33%;"> 
          </colgroup> 
          <thead> 
           <tr> 
            <th class="tableblock halign-left valign-top">Extracts Data</th> 
            <th class="tableblock halign-left valign-top">Source</th> 
            <th class="tableblock halign-left valign-top">Expression</th> 
           </tr> 
          </thead> 
          <tbody> 
           <tr> 
            <td class="tableblock halign-left valign-top"><p class="tableblock">the session id</p></td> 
            <td class="tableblock halign-left valign-top"><p class="tableblock">the message’s inbound property sessionId<br> (created in the * e-storeFrontend-addToCart* flow)</p></td> 
            <td class="tableblock halign-left valign-top"><p class="tableblock">#[header:inbound:sessionId]</p></td> 
           </tr> 
           <tr> 
            <td class="tableblock halign-left valign-top"><p class="tableblock">the product code</p></td> 
            <td class="tableblock halign-left valign-top"><p class="tableblock">message properties</p></td> 
            <td class="tableblock halign-left valign-top"><p class="tableblock">#[json:productCode]</p></td> 
           </tr> 
           <tr> 
            <td class="tableblock halign-left valign-top"><p class="tableblock">provider name</p></td> 
            <td class="tableblock halign-left valign-top"><p class="tableblock">message properties</p></td> 
            <td class="tableblock halign-left valign-top"><p class="tableblock">#[json:provider]</p></td> 
           </tr> 
           <tr> 
            <td class="tableblock halign-left valign-top"><p class="tableblock">quantity</p></td> 
            <td class="tableblock halign-left valign-top"><p class="tableblock">message properties</p></td> 
            <td class="tableblock halign-left valign-top"><p class="tableblock">#[json:qty]</p></td> 
           </tr> 
          </tbody> 
         </table> 
         <div class="paragraph"> 
          <p>Mule evaluates the expressions against the message payload which contains JSON-formatted data in the properties.</p> 
         </div> </td> 
       </tr> 
      </tbody> 
     </table> 
    </div> 
    <div class="paragraph"> 
     <p>Because the end user does not expect a reply from the application when adding an item to the cart, the application doesn’t need to send a response. The <strong>e-storeFrontend-addToCart</strong> flow sends the message to the backend flow, thereby ending its processing; the <strong>addToCart</strong> flow inserts the data into the database asynchronously (relative to the frontend flow), thereby ending its processing.</p> 
    </div> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="view-cart"><a class="anchor" href="#view-cart"></a>View Cart</h3> 
   <div class="paragraph"> 
    <p>The E-store application enables users to view the items, including their cost, in the virtual shopping cart. The following diagram illustrates the actions the E-store application performs to display cart contents to the end user.<br> <br> <span class="image"><img src="./_images/showcart.png" alt="showcart"></span></p> 
   </div> 
   <div class="sect3"> 
    <h4 id="e-storefrontend-3"><a class="anchor" href="#e-storefrontend-3"></a>e-storeFrontend</h4> 
    <div class="paragraph"> 
     <p>When an end user clicks the <strong>My Cart</strong> tab on the GUI, the client-side interface activates the <strong>e-storeFrontend-showCart</strong> flow in the <code>e-storeFrontend.mflow file</code> (see image below).</p> 
    </div> 
    <div class="paragraph"> 
     <p><span class="image"><img src="./_images/front_show_cart.png" alt="front_show_cart"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p><strong>View the XML</strong></p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td> 
           <td class="code"><pre>&lt;flow name="e-storeFrontend-showCart" doc:name="e-storeFrontend-showCart"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ajax:inbound-endpoint channel="/estore/showCart" responseTimeout="10000" connector-ref="ajaxServer" doc:name="/estore/showCart"&gt;&lt;/ajax:inbound-endpoint&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;response&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;object-to-string-transformer doc:name="Object to String"&gt;&lt;/object-to-string-transformer&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/response&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set-property propertyName="sessionId" value="#[flowVars['cometd.client'].toString()]" doc:name="Set session id from AJAX client id"&gt;&lt;/set-property&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;jms:outbound-endpoint exchange-pattern="request-response" queue="estore.showCart" connector-ref="Active_MQ" doc:name="Request cart contents to backend"&gt;&lt;/jms:outbound-endpoint&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/flow&gt;</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>The AJAX endpoint listens for a request on the <strong>/estore/showCart</strong> channel. As in the <strong>e-storeFrontend-addToCart</strong> flow, a property transformer sets a session ID variable on the message. Then, a JMS endpoint sends the message to the <code>estore.showCart</code> queue in the e-storeBackend.</p> 
    </div> 
   </div> 
   <div class="sect3"> 
    <h4 id="e-storebackend-3"><a class="anchor" href="#e-storebackend-3"></a>e-storeBackend</h4> 
    <div class="paragraph"> 
     <p>The JMS endpoint in the <strong>showCart</strong> flow listens for requests the <strong>e-storeFrontend-showCart</strong> flow sends to the <code>estore.showCart</code> JMS queue (see image below).</p> 
    </div> 
    <div class="paragraph"> 
     <p><span class="image"><img src="./_images/show_cart_flow.png" alt="show_cart_flow"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p><strong>View the XML</strong></p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
2
3
4
</pre></td> 
           <td class="code"><pre>&lt;flow name="showCart" doc:name="showCart"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;jms:inbound-endpoint exchange-pattern="request-response" queue="estore.showCart" connector-ref="Active_MQ2" doc:name="JMS"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;flow-ref name="subflow-showCart" doc:name="subflow-showCart"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/flow&gt;</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>Using a flow reference component, Mule sends the message to the <strong>subflow-showCart</strong> for processing (see image below). Because calculating the total value of items in the cart is an operation an end user may frequently perform, Mule uses a subflow to retrieve cart contents and calculate their total value. This design — a flow referencing a subflow for frequent calculations — follows the <a href="http://en.wikipedia.org/wiki/Package_Principles#Principles_of_Package_Cohesion">common reuse principle</a> of computer programming.</p> 
    </div> 
    <div class="paragraph"> 
     <p><span class="image"><img src="./_images/subflow_showCart.png" alt="subflow_showCart"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p><strong>View the XML</strong></p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
19
<strong>20</strong>
21
22
23
24
25
26
27
28
29
<strong>30</strong>
31
32
33
34
35
36
37
38
39
<strong>40</strong>
</pre></td> 
           <td class="code"><pre>&lt;sub-flow name="subflow-showCart" doc:name="subflow-showCart"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;jdbc:outbound-endpoint exchange-pattern="request-response" queryKey="query-showCart" queryTimeout="-1" connector-ref="JDBCConnector" doc:name="Fetch cart contents from database"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set-variable variableName="grandTotal" value="#[0]" doc:name="Initialize grand total"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set-variable variableName="cartItems" value="#[new java.util.LinkedList()]" doc:name="Initialize cart items list"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;foreach doc:name="Foreach"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;choice doc:name="Choice"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;when expression="payload['PROVIDER'].equals('Barber\'s Paradise Store')"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;enricher target="#[header:outbound:productDetails]" doc:name="Store product details as message property (enrich)"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ee:cache cachingStrategy-ref="fetchProductDetailsCachingStrategy" doc:name="Cache"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;core:flow-ref name="subflow-fetchProductDetailsFromBarbersParadise" doc:name="subflow-fetchProductDetailsFromBarbersParadise"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ee:cache&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/enricher&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/when&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;when expression="payload['PROVIDER'].equals('Van Gogh\'s Paint Store')"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;enricher target="#[header:outbound:productDetails]" doc:name="Store product details as message property (enrich)"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ee:cache cachingStrategy-ref="fetchProductDetailsCachingStrategy" doc:name="Cache"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;core:flow-ref name="subflow-fetchProductDetailsFromVanGoghPaintStore" doc:name="subflow-fetchProductDetailsFromVanGoghPaintStore"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ee:cache&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/enricher&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/when&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/choice&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;DataMapper:transform config-ref="consolidateProductDetailsOnCart" doc:name="Consolidate cart item info and subtotal"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;DataMapper:input-arguments&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;DataMapper:input-argument key="price"&gt;#[(new groovy.json.JsonSlurper().parseText(message.outboundProperties['productDetails'].toString())).price]&lt;/DataMapper:input-argument&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;DataMapper:input-argument key="providerId"&gt;#[(new groovy.json.JsonSlurper().parseText(message.outboundProperties['productDetails'].toString())).providerId]&lt;/DataMapper:input-argument&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;DataMapper:input-argument key="product_id"&gt;#[(new groovy.json.JsonSlurper().parseText(message.outboundProperties['productDetails'].toString())).productId]&lt;/DataMapper:input-argument&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;DataMapper:input-argument key="productDescription"&gt;#[(new groovy.json.JsonSlurper().parseText(message.outboundProperties['productDetails'].toString())).productDescription]&lt;/DataMapper:input-argument&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/DataMapper:input-arguments&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/DataMapper:transform&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;object-to-string-transformer doc:name="Object to String"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set-variable variableName="grandTotal" value="#[grandTotal + Float.parseFloat((new groovy.json.JsonSlurper().parseText(payload)).subtotal)]" doc:name="Sum item subtotal to grand total"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;expression-transformer expression="flowVars['cartItems'].add(payload)" doc:name="Add cart item to list"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/foreach&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set-property propertyName="cartTotal" value="#[grandTotal]" doc:name="Set cartTotal message property with grand total"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;expression-transformer expression="cartItems" doc:name="Set payload to cart items list"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/sub-flow&gt;</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>First, the JDBC endpoint uses the <code>query-showCart</code> query to retrieve the <strong>productID</strong> and <strong>quantity</strong> of each item in the cart, which Mule identifies by the end user’s sessionID.</p> 
    </div> 
    <div class="paragraph"> 
     <p>Mule then uses a pair of variable transformers to set two empty variables on the message: <code>grandTotal</code> and <code>cartItems</code>. The rest of this flow works to calculate a value for the <code>grandTotal</code> and find items to populate the LinkedList for the <code>cartItems</code>.</p> 
    </div> 
    <div class="paragraph"> 
     <p>Mule passes the message into the scope of a <strong><a href="/mule-user-guide/v/3.3/foreach">Foreach</a>&nbsp;</strong>iterative processor. From the Derby database, the JDBC endpoint retrieved a collection of Java maps, each of which contains a key-value pair — field name and field value — for each row in the cart table. Foreach breaks the collection into individual items (key-value pairs), then iteratively processes them (i.e. processes them one at a time) through each <strong><a href="/mule-user-guide/v/3.3/mule-studio-essentials">message processors</a></strong>&nbsp;within its scope.</p> 
    </div> 
    <div class="paragraph"> 
     <p>Foreach passes the first item in the collection to the <strong><a href="/mule-user-guide/v/3.3/choice-flow-control-reference">Choice Router</a>&nbsp;</strong>which uses expressions to route the item to one of two processing branches:</p> 
    </div> 
    <div class="ulist"> 
     <ul> 
      <li> <p>if the payload of the item indicates that the provider is Barber’s Paradise, <code>expression="payload['PROVIDER'].equals('Barber's Paradise Store')"</code>, the first expression configured in the choice router evaluates to true; Mule sends the message to the first branch</p> </li> 
      <li> <p>if the payload of the item indicates that the provider is Van Gogh’s Paint, <code>expression="payload['PROVIDER'].equals('Van Gogh's Paint Store')"</code>, the second expression configured in the choice router evaluates to true; Mule sends the message to the second branch</p> 
       <div class="paragraph"> 
        <p><span class="image"><img src="./_images/choice_router.png" alt="choice_router"></span></p> 
       </div> </li> 
     </ul> 
    </div> 
    <div class="paragraph"> 
     <p><strong>View the XML</strong></p> 
    </div> 
    <div class="paragraph"> 
     <p>Each of the two branches begins with a flow reference component which directs the message to a separate subflow for further processing. Note that Mule flow wraps each flow reference component with two scopes:</p> 
    </div> 
    <div class="olist arabic"> 
     <ol class="arabic"> 
      <li> <p><strong><a href="/mule-user-guide/v/3.3/cache-scope">Cache</a></strong>– to cache the result of the subflow’s processing.</p> </li> 
      <li> <p><strong><a href="/mule-user-guide/v/3.3/message-enricher">Message Enricher</a></strong> – to enrich the message payload with data. Mule <em>enriches</em> message payloads, rather than <em>changing</em> the contents, so that other message processors in the application can access the original payload. In this flow, the message enrichers store the results of the subflow’s processing on the message’s <code>productDetails</code> outbound property.</p> </li> 
     </ol> 
    </div> 
    <div class="sect4"> 
     <h5 id="fetch-product-details-from-barber-s-paradise"><a class="anchor" href="#fetch-product-details-from-barber-s-paradise"></a>Fetch Product Details from Barber’s Paradise</h5> 
     <div class="paragraph"> 
      <p><span class="image"><img src="./_images/fetch_from_Barbers.png" alt="fetch_from_Barbers"></span></p> 
     </div> 
     <div class="paragraph"> 
      <p><strong>View the XML</strong></p> 
     </div> 
     <div class="listingblock"> 
      <div class="content"> 
       <pre class="CodeRay highlight"><code data-lang="code">
            
         <table class="CodeRay"> 
          <tbody> 
           <tr> 
            <td class="line-numbers"><pre>1
2
3
4
5
</pre></td> 
            <td class="code"><pre>&lt;sub-flow name="subflow-fetchProductDetailsFromBarbersParadise" doc:name="subflow-fetchProductDetailsFromBarbersParadise"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;http:outbound-endpoint exchange-pattern="request-response" host="localhost" port="9080" path="barbersparadise/products/#[payload['PRODUCT_ID']]" doc:name="Fetch product info from Barber's Paradise Store"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;data-mapper:transform config-ref="barbersParadiseToCanonicalJSON" doc:name="Transform to canonical JSON"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;object-to-string-transformer doc:name="Object to String"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/sub-flow&gt;</pre></td> 
           </tr> 
          </tbody> 
         </table></code></pre> 
      </div> 
     </div> 
     <div class="paragraph"> 
      <p>The <strong>subflow-fetchProductDetailsFromBarbersParadise</strong> sends an HTTP request to Barber’s Paradise RESTful Web service to acquire the latest product pricing details from the vendor. The DataMapper in the subflow maps the JSON data from the service provider into a normalized, JSON format that the E-store application can use. Lastly, the Object to String transformer converts the data to a string format before injecting it into the main <strong>showCart</strong> flow.</p> 
     </div> 
    </div> 
    <div class="sect4"> 
     <h5 id="fetch-product-details-from-van-gogh-s-paint"><a class="anchor" href="#fetch-product-details-from-van-gogh-s-paint"></a>Fetch Product Details from Van Gogh’s Paint</h5> 
     <div class="paragraph"> 
      <p><span class="image"><img src="./_images/fetch_from_VanGoghs.png" alt="fetch_from_VanGoghs"></span></p> 
     </div> 
     <div class="paragraph"> 
      <p><strong>View the XML</strong></p> 
     </div> 
     <div class="listingblock"> 
      <div class="content"> 
       <pre class="CodeRay highlight"><code data-lang="code">
            
         <table class="CodeRay"> 
          <tbody> 
           <tr> 
            <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
</pre></td> 
            <td class="code"><pre>&lt;sub-flow name="subflow-fetchProductDetailsFromVanGoghPaintStore" doc:name="subflow-fetchProductDetailsFromVanGoghPaintStore"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;expression-transformer expression="payload['PRODUCT_ID']" doc:name="Assing product id to payload"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;flow-ref name="subflow-invokeVanGoghGetProductInfoSOAPService" doc:name="subflow-invokeVanGoghGetProductInfoSOAPService"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;data-mapper:transform config-ref="vanGoghPaintToCanonicalJSON" doc:name="Transform to canonical JSON"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;object-to-string-transformer doc:name="Object to String"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/sub-flow&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;sub-flow name="subflow-invokeVanGoghGetProductInfoSOAPService" doc:name="subflow-invokeVanGoghGetProductInfoSOAPService"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;cxf:jaxws-client operation="getProductInfo" serviceClass="com.mulesoft.example.estore.clients.provider.vangoghpaintstore.B2BStore" port="80" enableMuleSoapHeaders="true" doc:name="Prepare SOAP request"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;http:outbound-endpoint exchange-pattern="request-response" host="localhost" port="9081" path="vangoghpaintstore" doc:name="Invoke SOAP request"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/sub-flow&gt;</pre></td> 
           </tr> 
          </tbody> 
         </table></code></pre> 
      </div> 
     </div> 
     <div class="paragraph"> 
      <p>The <strong>subflow-fetchProductDetailsFromVanGoghPaintStore</strong> uses an expression transformer to identify the product ID on the message payload. The subflow then invokes yet <em>another</em> subflow, <strong>subflow-invokeVanGoghGetProductInfoSOAPService</strong>, to prepare, then send a SOAP request to Van Gogh’s Paint’s Web service that acquires the latest product pricing details from the vendor. The DataMapper in the fetchProductDetails subflow maps the JSON data from the service provider into a normalized, JSON format that the E-store application can use. Lastly, the Object to String transformer converts the data to a string format before injecting it into the main <strong>showCart</strong> flow.</p> 
     </div> 
    </div> 
   </div> 
   <div class="sect3"> 
    <h4 id="back-in-the-showcart-flow"><a class="anchor" href="#back-in-the-showcart-flow"></a>…​Back in the showCart Flow</h4> 
    <div class="paragraph"> 
     <p>After it sends each item in the collection through foreach’s message processors, Mule uses another DataMapper to convert and consolidate the updated product information (see image below). DataMapper also calculates each item’s subtotal by multiplying the product’s price by the quantity the end user requested.<br> <br> <span class="image"><img src="./_images/dataMapper-subflow.png" alt="dataMapper-subflow"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p>In DataMapper’s <strong>Input</strong> pane, Mule displays fields from the payload which represent the names of the rows in the cart table in the Derby database. Mule stored these product details as message properties when it called Barber’s Paradise and Van Gogh’s Paint’s Web services for updated product details. The two message enrichers, each named <strong>Store product details as message property (enrich)</strong>, stored the product details as properties (see image below).<br> <br> <span class="image"><img src="./_images/enriched_productdetails.png" alt="enriched_productdetails"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p><strong>View the XML</strong></p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
</pre></td> 
           <td class="code"><pre>&lt;enricher target="#[header:outbound:productDetails]" doc:name="Store product details as message property (enrich)"&gt;</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>In DataMapper’s <strong>Output</strong> pane, Mule displays the consolidated output in JSON format, including the calculation of the item’s subtotal (see content in red rectangle in image above). After Mule maps the data, the message payload for each item in the collection appears as follows:</p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td> 
           <td class="code"><pre>{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"productId": "1827349",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"productDescription": "Billy-boy forever-sharp razors",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"providerId": "BARBER",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"price": "9.95",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"qty": "1",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"subtotal": "9.95"
}</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>Mule then transforms the Java object (a map) to a string to prepare the contents for a grand total calculation. The variable transformer uses an expression to calculate, then set the <code>grandTotal</code> variable on the payload (see image below). Recall that Mule created an empty <code>grandTotal</code> variable earlier in the subflow; this transformer simply populates the empty variable.<br> <br> <span class="image"><img src="./_images/grandTotal.png" alt="grandTotal"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p>The last expression transformer sets the <code>cartItems</code> variable on the payload. Recall that Mule created an empty LinkedList variable called <code>cartItems</code> earlier in the subflow; this transformer simply populates the empty list.</p> 
    </div> 
    <div class="paragraph"> 
     <p>Mule returns the message to the <strong>e-storeFrontend-showCart</strong> flow, which uses AJAX to send the response to the end user’s browser.<br> <br> <span class="image"><img src="./_images/showCart_browser.png" alt="showCart_browser"></span></p> 
    </div> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="checkout"><a class="anchor" href="#checkout"></a>Checkout</h3> 
   <div class="paragraph"> 
    <p>The E-store application enables users to pay for purchases and submit orders to vendors. This “checkout” activity involves two steps:</p> 
   </div> 
   <div class="olist arabic"> 
    <ol class="arabic"> 
     <li> <p>calculating, then displaying the Grand Total to the end user</p> </li> 
     <li> <p>processing the payment, then submitting orders to vendors</p> </li> 
    </ol> 
   </div> 
   <div class="paragraph"> 
    <p>The following diagram illustrates the actions the E-store application performs to recalculate the Grand Total, then authorize the payment and submit vendor orders.<br> <br> <span class="image"><img src="./_images/checkout.png" alt="checkout"></span></p> 
   </div> 
   <div class="sect3"> 
    <h4 id="e-storefrontend-grand-total"><a class="anchor" href="#e-storefrontend-grand-total"></a>e-storeFrontend – Grand Total</h4> 
    <div class="paragraph"> 
     <p>When an end user clicks the <strong>Checkout</strong> tab on the GUI, the client-side interface activates the <strong>e-storeFrontend-getCartTotal</strong> flow in the <code>e-storeFrontend.mflow file</code> (see image below).<br> <br> <span class="image"><img src="./_images/getGrandTotal.png" alt="getGrandTotal"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p><strong>View the XML</strong></p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td> 
           <td class="code"><pre>&lt;flow name="e-storeFrontend-getCartTotal" doc:name="e-storeFrontend-getCartTotal"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ajax:inbound-endpoint channel="/estore/getCartTotal" responseTimeout="10000" connector-ref="ajaxServer" doc:name="/estore/getCartTotal"&gt;&lt;/ajax:inbound-endpoint&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set-property propertyName="sessionId" value="#[flowVars['cometd.client'].toString()]" doc:name="Set session id from AJAX client id"&gt;&lt;/set-property&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;jms:outbound-endpoint exchange-pattern="request-response" queue="estore.showCart" connector-ref="Active_MQ" doc:name="Request cart contents to backend"&gt;&lt;/jms:outbound-endpoint&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;expression-transformer expression="#[header:inbound:cartTotal]" doc:name="Set cart total property as payload"&gt;&lt;/expression-transformer&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/flow&gt;</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>The AJAX endpoint listens for a request on the <strong>/estore/getCartTotal</strong> channel. As in the <strong>e-storeFrontend-addToCart</strong> flow, a property transformer sets a session ID variable on the message. Then, a two-way JMS endpoint sends the message to the <code>estore.showCart</code> queue in the e-storeBackend. When it receives a response from the e-storeBackend, the JMS endpoint passes the message to an expression transformer which sets the calculated <code>cartTotal</code> as a property on the message payload.</p> 
    </div> 
    <div class="paragraph"> 
     <p>The <strong>e-storeFrontend-getCartTotal</strong> flow sends a response to the end user’s browser which displays the Grand Total of the cart on the <strong>Checkout</strong> page.<br> <br> <span class="image"><img src="./_images/grandTotal_browser.png" alt="grandTotal_browser"></span></p> 
    </div> 
   </div> 
   <div class="sect3"> 
    <h4 id="e-storebackend-grand-total"><a class="anchor" href="#e-storebackend-grand-total"></a>e-storeBackend – Grand Total</h4> 
    <div class="paragraph"> 
     <p>The JMS endpoint in the <strong>showCart</strong> listens for requests the <strong>e-storeFrontend-getCartTotal</strong> flow sends to the <code>estore.showCart</code> queue. Rather than dedicating a separate flow to calculating the Grand Total of the end user’s order, Mule reuses the <strong>showCart</strong> flow (and its supporting subflows in the e-storeBackend) to acquire the value.</p> 
    </div> 
   </div> 
   <div class="sect3"> 
    <h4 id="e-storefrontend-processing-order"><a class="anchor" href="#e-storefrontend-processing-order"></a>e-storeFrontend – Processing Order</h4> 
    <div class="paragraph"> 
     <p>When an end user populates the payment information fields on the GUI, then clicks the <strong>Verify payment and submit order</strong> button, the client-side interface activates the <strong>estoreFrontend-doCheckout</strong> flow in the <code>e-storeFrontend.mflow file</code> (see image below).</p> 
    </div> 
    <div class="paragraph"> 
     <p><span class="image"><img src="./_images/doCheckout_flow.png" alt="doCheckout_flow"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p><strong>View the XML</strong></p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
2
3
4
5
</pre></td> 
           <td class="code"><pre>&lt;flow name="e-storeFrontend-doCheckout" doc:name="e-storeFrontend-doCheckout"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ajax:inbound-endpoint channel="/estore/doCheckout" responseTimeout="10000" doc:name="/estore/doCheckout"&gt;&lt;/ajax:inbound-endpoint&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set-property propertyName="sessionId" value="#[flowVars['cometd.client'].toString()]" doc:name="Set session id from AJAX client id"&gt;&lt;/set-property&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;jms:outbound-endpoint exchange-pattern="request-response" queue="estore.doCheckout" connector-ref="Active_MQ" doc:name="Request checkout to backend"&gt;&lt;/jms:outbound-endpoint&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/flow&gt;</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>The AJAX endpoint listens for a request on the <strong>/estore/doCheckout</strong> channel. As in the <strong>e-storeFrontend-addToCart</strong> flow, a property transformer sets a session ID variable on the message. Then, a JMS endpoint sends the message to the <code>estore.doCheckout</code> queue in the e-storeBackend.</p> 
    </div> 
   </div> 
   <div class="sect3"> 
    <h4 id="e-storebackend-processing-order"><a class="anchor" href="#e-storebackend-processing-order"></a>e-storeBackend – Processing Order</h4> 
    <div class="paragraph"> 
     <p>The JMS endpoint in the <strong>doCheckout</strong> flow listens for requests the <strong>e-storeFrontend-doCheckout</strong> flow sends to the <code>estore.doCheckout</code> JMS queue (see image below).<br> <br> <span class="image"><img src="./_images/partA.png" alt="partA"></span><br></p> 
    </div> 
    <div class="paragraph"> 
     <p><span class="image"><img src="./_images/partB.png" alt="partB"></span><br></p> 
    </div> 
    <div class="literalblock"> 
     <div class="content"> 
      <pre>image:partD.png[partD]</pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p><strong>View the XML</strong></p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
19
<strong>20</strong>
21
22
23
24
25
26
27
28
29
<strong>30</strong>
31
32
33
34
35
36
37
38
39
<strong>40</strong>
41
42
43
44
45
46
47
48
49
<strong>50</strong>
51
</pre></td> 
           <td class="code"><pre>&lt;flow name="doCheckout" doc:name="doCheckout"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;jms:inbound-endpoint exchange-pattern="request-response" queue="estore.doCheckout" connector-ref="Active_MQ2" doc:name="JMS"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;enricher doc:name="Enrich message with cart details"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;core:flow-ref name="subflow-showCart" doc:name="subflow-showCart"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;enrich source="#[message.outboundProperties['cartTotal'].toString()]" target="#[header:outbound:grandTotal]"&gt;&lt;/enrich&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;enrich source="#[payload]" target="#[header:outbound:cartContents]"&gt;&lt;/enrich&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/enricher&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;enricher doc:name="Enrich message with payment authorization results"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;core:flow-ref name="subflow-authorizePayment" doc:name="subflow-authorizePayment"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;enrich source="#[xpath:/authorizationResponse/result]" target="#[header:outbound:paymentResult]"&gt;&lt;/enrich&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;enrich source="#[xpath:/authorizationResponse/reason]" target="#[header:outbound:paymentReason]"&gt;&lt;/enrich&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/enricher&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;choice doc:name="Choice"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;when expression="#[header:paymentResult=APPROVED]"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set-variable variableName="orders" value="#[new java.util.LinkedList()]" doc:name="Initialize order numbers list"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set-variable variableName="orderSorter" value="#[new com.mulesoft.example.estore.util.OrderSorter((new groovy.json.JsonSlurper().parseText(payload)).cardholderName, (new groovy.json.JsonSlurper().parseText(payload)).deliveryAddress)]" doc:name="Initialize orders sorter"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;foreach collection="#[(new groovy.json.JsonSlurper().parseText(message.outboundProperties['cartContents'].toString()))]" doc:name="For each item on the cart"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;expression-component doc:name="Classify item in orders sorter"&gt;#[flowVars['orderSorter'].sortOrderItem(payload.providerId, new com.mulesoft.example.estore.util.OrderItem(payload.productId, Integer.parseInt(payload.qty)))]&lt;/expression-component&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/foreach&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;foreach collection="#[flowVars['orderSorter'].getSortedOrders()]" doc:name="For each order"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;choice doc:name="Choice"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;when expression="#[payload.providerId == 'Barber\'s Paradise Store']"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;DataMapper:transform config-ref="ordertojsonorder" doc:name="Transform internal order repr. to provider repr."/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;http:outbound-endpoint exchange-pattern="request-response" host="localhost" port="9080" path="barbersparadise/placeOrder" doc:name="Place order on Barber's Paradise Store"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/when&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;when expression="#[payload.providerId == 'Van Gogh\'s Paint Store']"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;DataMapper:transform config-ref="ordertodeliveryorder" doc:name="Transform internal order repr. to provider repr."/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;flow-ref name="subflow-placeOrderOnVanGoghPaintStore" doc:name="subflow-placeOrderOnVanGoghPaintStore"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/when&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/choice&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;object-to-string-transformer doc:name="Object to String"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;expression-transformer expression="flowVars['orders'].add(&amp;quot;\&amp;quot;&amp;quot; + payload.toString() + &amp;quot;\&amp;quot;&amp;quot;)" doc:name="Add order to orders list"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/foreach&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;expression-transformer expression="&amp;quot;{\&amp;quot;result\&amp;quot;: \&amp;quot;APPROVED\&amp;quot;, \&amp;quot;orders\&amp;quot;: &amp;quot; + flowVars[&amp;quot;orders&amp;quot;].toString() + &amp;quot;}&amp;quot;" doc:name="Build checkout sucessful message"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/when&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;when expression="#[header:paymentResult=FAILED]"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;expression-transformer expression="&amp;quot;{\&amp;quot;result\&amp;quot;: \&amp;quot;FAILED\&amp;quot;, \&amp;quot;reason\&amp;quot;: \&amp;quot;&amp;quot; + message.outboundProperties[&amp;quot;paymentReason&amp;quot;] + &amp;quot;\&amp;quot;}&amp;quot;" doc:name="Build payment rejected message"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/when&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/choice&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;catch-exception-strategy doc:name="Catch Exception Strategy"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;expression-transformer expression="&amp;quot;{\&amp;quot;result\&amp;quot;: \&amp;quot;FAILED\&amp;quot;, \&amp;quot;reason\&amp;quot;: \&amp;quot;Unable to process payment with bank due to communication problems or invalid credit card information. Check you're submitting a 16-digit credit card number, a 3-digit security code, a name and an address.\&amp;quot;}&amp;quot;" doc:name="Build error response"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/catch-exception-strategy&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/flow&gt;</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>Using a flow reference component, Mule sends the message to the <strong>subflow-showCart</strong> for processing, then uses expressions to enrich the payload with two properties: the <code>grandTotal</code> and <code>cartContents</code> (see message enricher image below).<br> <br> <span class="image"><img src="./_images/enrich_total_contents.png" alt="enrich_total_contents"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p><strong>View the XML</strong></p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
2
</pre></td> 
           <td class="code"><pre>&lt;enrich source="#[message.outboundProperties['cartTotal'].toString()]" target="#[header:outbound:grandTotal]"/&gt;
&lt;enrich source="#[payload]" target="#[header:outbound:cartContents]"/&gt;</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>Next, Mule uses another flow reference component to invoke the <strong>subflow-authorizePayment</strong>.</p> 
    </div> 
    <div class="sect4"> 
     <h5 id="authorization-subflows"><a class="anchor" href="#authorization-subflows"></a>Authorization Subflows</h5> 
     <div class="paragraph"> 
      <p><span class="image"><img src="./_images/authorization_subflows.png" alt="authorization_subflows"></span></p> 
     </div> 
     <div class="paragraph"> 
      <p><strong>View the XML</strong></p> 
     </div> 
     <div class="listingblock"> 
      <div class="content"> 
       <pre class="CodeRay highlight"><code data-lang="code">
            
         <table class="CodeRay"> 
          <tbody> 
           <tr> 
            <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td> 
            <td class="code"><pre>&lt;sub-flow name="subflow-requestPaymentAuthorizationToBank" doc:name="subflow-requestPaymentAuthorizationToBank"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;remove-property propertyName="cartContents" doc:name="Remove cart contents property to call bank"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;http:outbound-endpoint exchange-pattern="request-response" host="localhost" port="10000" path="bank/authorizePayment" doc:name="Request payment authorization to bank"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/sub-flow&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;sub-flow name="subflow-placeOrderOnVanGoghPaintStore" doc:name="subflow-placeOrderOnVanGoghPaintStore"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;cxf:jaxws-client operation="placeOrder" serviceClass="com.mulesoft.example.estore.clients.provider.vangoghpaintstore.B2BStore" enableMuleSoapHeaders="true" doc:name="Prepare SOAP request"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;http:outbound-endpoint exchange-pattern="request-response" host="localhost" port="9081" path="vangoghpaintstore" doc:name="Invoke SOAP request"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/sub-flow&gt;</pre></td> 
           </tr> 
          </tbody> 
         </table></code></pre> 
      </div> 
     </div> 
     <div class="paragraph"> 
      <p>Before submitting a request for payment authorization to the bank, the <strong>subflow-authorizePayment</strong> uses a DataMapper to transform the end user’s credit card data from JSON into the XML format that the bank’s Web service expects. The table below describes the data that Mule maps.</p> 
     </div> 
     <table class="tableblock frame-all grid-all spread"> 
      <colgroup> 
       <col style="width: 50%;"> 
       <col style="width: 50%;"> 
      </colgroup> 
      <thead> 
       <tr> 
        <th class="tableblock halign-left valign-top">From (JSON)</th> 
        <th class="tableblock halign-left valign-top">To (XML)</th> 
       </tr> 
      </thead> 
      <tbody> 
       <tr> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">creditCardNumber : string</p></td> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">ns0:creditCardNumber : string</p></td> 
       </tr> 
       <tr> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">securityCode : string</p></td> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">ns0:securityCode : string</p></td> 
       </tr> 
       <tr> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">cardholderName : string</p></td> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">ns0:cardholderName : string</p></td> 
       </tr> 
       <tr> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">grandTotal : string</p></td> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">ns0: decimal : string</p></td> 
       </tr> 
      </tbody> 
     </table> 
     <div class="paragraph"> 
      <p>Mule transforms the payload from Java object to a string, then uses a flow reference component to send the message to yet another subflow, <strong>subflow-requestPaymentAuthorizationToBank</strong>.</p> 
     </div> 
     <div class="paragraph"> 
      <p>In the <strong>PaymentAuthorizationToBank</strong> subflow, Mule first prepares a request to send to the bank by removing its <code>cartContent</code> property. This prevents Mule from unnecessarily sending a list of the cart’s contents to the bank (see image of property transformer below).<br> <br> <span class="image"><img src="./_images/remove_property.png" alt="remove_property"></span></p> 
     </div> 
     <div class="paragraph"> 
      <p><strong>View the XML</strong></p> 
     </div> 
     <div class="listingblock"> 
      <div class="content"> 
       <pre class="CodeRay highlight"><code data-lang="code">
            
         <table class="CodeRay"> 
          <tbody> 
           <tr> 
            <td class="line-numbers"><pre>1
</pre></td> 
            <td class="code"><pre>&lt;remove-property propertyName="cartContents" doc:name="Remove cart contents property to call bank"/&gt;</pre></td> 
           </tr> 
          </tbody> 
         </table></code></pre> 
      </div> 
     </div> 
     <div class="paragraph"> 
      <p>Then, the request-response HTTP endpoint sends a request to the bank’s RESTful Web service to authorize payment. The <a href="#3rd-party-web-services">3rd-Party Web Services</a> (in the <code>bank.mflow</code> file) performs the following validations:</p> 
     </div> 
     <div class="ulist"> 
      <ul> 
       <li> <p><strong>syntactic</strong> - confirms that XML format of the message conforms to its <a href="http://en.wikipedia.org/wiki/XML_schema">XSD schema</a>; for example, that the security code contains three integers</p> </li> 
       <li> <p><strong>semantic</strong> - confirms that the data conforms to specific business rules; for example, that the security code matches the credit card number, or that the amount of the transaction does not exceed $1000</p> </li> 
      </ul> 
     </div> 
     <div class="paragraph"> 
      <p>When it has completed processing the request, the bank’s Web service returns one of three responses; refer to table below.</p> 
     </div> 
     <table class="tableblock frame-all grid-all spread"> 
      <colgroup> 
       <col style="width: 20%;"> 
       <col style="width: 20%;"> 
       <col style="width: 20%;"> 
       <col style="width: 20%;"> 
       <col style="width: 20%;"> 
      </colgroup> 
      <thead> 
       <tr> 
        <th class="tableblock halign-left valign-top">Payment<br> Authorized?</th> 
        <th class="tableblock halign-left valign-top">Issue</th> 
        <th class="tableblock halign-left valign-top">responseResult</th> 
        <th class="tableblock halign-left valign-top">responseReason</th> 
        <th class="tableblock halign-left valign-top">Exception</th> 
       </tr> 
      </thead> 
      <tbody> 
       <tr> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">approved</p></td> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td> 
       </tr> 
       <tr> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">failed semantic validation</p></td> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">failed</p></td> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">included</p></td> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td> 
       </tr> 
       <tr> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">failed syntactic validation</p></td> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">failed</p></td> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td> 
        <td class="tableblock halign-left valign-top"><p class="tableblock">included</p></td> 
       </tr> 
      </tbody> 
     </table> 
     <div class="paragraph"> 
      <p>If the response from the bank includes an exception — perhaps the credit card number is missing a digit — Mule catches the exception in the <strong><a href="/mule-user-guide/v/3.3/catch-exception-strategy">Catch Exception Strategy</a></strong>. The expression transformer in the exception strategy (located in the footer of the <strong>doCheckout</strong> flow) uses expressions to prepare an error for the end user. Mule sends the error message as a response to the e-storeFrontend flow, then to the end user’s browser. (If the response from the bank involves a failure of the semantic validation, Mule deals with the error further in the flow; see <strong>…​Back in the doCheckout Flow</strong> section below.)</p> 
     </div> 
     <div class="paragraph"> 
      <p>The <strong>subflow-requestPaymentAuthorizationToBank</strong> sends the bank’s response to the <strong>subflow-authorizePayment</strong> which, in turn, sends the result to the main <strong>doCheckout</strong> flow.</p> 
     </div> 
    </div> 
    <div class="sect4"> 
     <h5 id="back-in-the-docheckout-flow"><a class="anchor" href="#back-in-the-docheckout-flow"></a>…​Back in the doCheckout Flow</h5> 
     <div class="paragraph"> 
      <p>The enricher uses the results of the subflow’s processing to enrich the message with two more properties: <code>paymentResult</code> and <code>paymentReason</code>.<br> <br> <span class="image"><img src="./_images/xpath_enricher.png" alt="xpath_enricher"></span></p> 
     </div> 
     <div class="paragraph"> 
      <p><strong>View the XML</strong></p> 
     </div> 
     <div class="listingblock"> 
      <div class="content"> 
       <pre class="CodeRay highlight"><code data-lang="code">
            
         <table class="CodeRay"> 
          <tbody> 
           <tr> 
            <td class="line-numbers"><pre>1
2
</pre></td> 
            <td class="code"><pre>&lt;enrich source="#[xpath:/authorizationResponse/result]" target="#[header:outbound:paymentResult]"/&gt;
&lt;enrich source="#[xpath:/authorizationResponse/reason]" target="#[header:outbound:paymentReason]"/&gt;</pre></td> 
           </tr> 
          </tbody> 
         </table></code></pre> 
      </div> 
     </div> 
     <div class="paragraph"> 
      <p>Next, Mule uses a expressions in a choice router to determine how to route a message:</p> 
     </div> 
     <div class="ulist"> 
      <ul> 
       <li> <p>if the <code>paymentResult</code> property is <strong><code>APPROVED</code></strong>, Mule routes the message to the first branch off the choice router to initiate orders to vendors</p> </li> 
       <li> <p>if the <code>paymentResult</code> property is <strong><code>FAILED</code></strong>, Mule routes the message to the second branch off the choice router to prepare a “payment rejected” message for the end user<br> <span class="image"><img src="./_images/choice_sucess_fail.png" alt="choice_sucess_fail"></span></p> </li> 
      </ul> 
     </div> 
     <div class="paragraph"> 
      <p><strong>View the XML</strong></p> 
     </div> 
     <div class="listingblock"> 
      <div class="content"> 
       <pre class="CodeRay highlight"><code data-lang="code">
            
         <table class="CodeRay"> 
          <tbody> 
           <tr> 
            <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
19
<strong>20</strong>
21
22
23
24
25
26
27
28
29
<strong>30</strong>
31
32
33
34
35
</pre></td> 
            <td class="code"><pre>&lt;choice doc:name="Choice"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;when expression="#[header:paymentResult=APPROVED]"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set-variable variableName="orders" value="#[new java.util.LinkedList()]" doc:name="Initialize order numbers list"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set-variable variableName="orderSorter" value="#[new com.mulesoft.example.estore.util.OrderSorter((new groovy.json.JsonSlurper().parseText(payload)).cardholderName, (new groovy.json.JsonSlurper().parseText(payload)).deliveryAddress)]" doc:name="Initialize orders sorter"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;foreach collection="#[(new groovy.json.JsonSlurper().parseText(message.outboundProperties['cartContents'].toString()))]" doc:name="For each item on the cart"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;expression-component doc:name="Classify item in orders sorter"&gt;#[flowVars['orderSorter'].sortOrderItem(payload.providerId, new com.mulesoft.example.estore.util.OrderItem(payload.productId, Integer.parseInt(payload.qty)))]&lt;/expression-component&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/foreach&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;foreach collection="#[flowVars['orderSorter'].getSortedOrders()]" doc:name="For each order"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;choice doc:name="Choice"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;when expression="#[payload.providerId == 'Van Gogh\'s Paint Store']"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;data-mapper:transform config-ref="ordertojsonorder" doc:name="Transform internal order repr. to provider repr."/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;http:outbound-endpoint exchange-pattern="request-response" host="localhost" port="9080" path="barbersparadise/placeOrder" doc:name="Place order on Barber's Paradise Store"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/when&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;when expression="#[payload.providerId == 'Van Gogh\'s Paint Store']"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;data-mapper:transform config-ref="ordertodeliveryorder" doc:name="Transform internal order repr. to provider repr."/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;flow-ref name="subflow-placeOrderOnVanGoghPaintStore" doc:name="subflow-placeOrderOnVanGoghPaintStore"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/when&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/choice&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;object-to-string-transformer doc:name="Object to String"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;expression-transformer expression="flowVars['orders'].add(&amp;quot;\&amp;quot;&amp;quot; + payload.toString() + &amp;quot;\&amp;quot;&amp;quot;)" doc:name="Add order to orders list"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/foreach&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;expression-transformer expression="&amp;quot;{\&amp;quot;result\&amp;quot;: \&amp;quot;APPROVED\&amp;quot;, \&amp;quot;orders\&amp;quot;: &amp;quot; + flowVars[&amp;quot;orders&amp;quot;].toString() + &amp;quot;}&amp;quot;" doc:name="Build checkout sucessful message"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/when&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;when expression="#[header:paymentResult=FAILED]"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;expression-transformer expression="&amp;quot;{\&amp;quot;result\&amp;quot;: \&amp;quot;FAILED\&amp;quot;, \&amp;quot;reason\&amp;quot;: \&amp;quot;&amp;quot; + message.outboundProperties[&amp;quot;paymentReason&amp;quot;] + &amp;quot;\&amp;quot;}&amp;quot;" doc:name="Build payment rejected message"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/when&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/choice&gt;</pre></td> 
           </tr> 
          </tbody> 
         </table></code></pre> 
      </div> 
     </div> 
     <div class="paragraph"> 
      <p>With payment approved, Mule prepares requests to submit one order for products to each of the two vendors. (In other words, Mule aggregates a list of products for each vendor to avoid sending multiple orders to each of them.) First, the two of variable transformers in the first branch off the choice router set two variables on the message, respectively:</p> 
     </div> 
     <div class="olist arabic"> 
      <ol class="arabic"> 
       <li> <p><code>orders</code> – an empty LinkedList variable to capture order numbers,</p> </li> 
       <li> <p><code>orderSorter</code> - a simple Java class that employs a map of order objects to organize the cart items by vendor (see Java class below). The <strong>keys</strong> of the map are the names of the vendors; the <strong>values</strong> are order objects, which contains order items.</p> </li> 
      </ol> 
     </div> 
     <div class="paragraph"> 
      <p><strong>View Java Class</strong></p> 
     </div> 
     <div class="listingblock"> 
      <div class="content"> 
       <pre class="CodeRay highlight"><code data-lang="code">
            
         <table class="CodeRay"> 
          <tbody> 
           <tr> 
            <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
</pre></td> 
            <td class="code"><pre>public void sortOrderItem(String providerId, OrderItem item) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!orders.containsKey(providerId)) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Order order = new Order();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order.setCustomerName(this.customerName);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order.setDeliveryAddress(this.deliveryAddress);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order.setProviderId(providerId);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;orders.put(providerId, order);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;orders.get(providerId).addOrderItem(item);
&nbsp;&nbsp;&nbsp;&nbsp;}</pre></td> 
           </tr> 
          </tbody> 
         </table></code></pre> 
      </div> 
     </div> 
     <div class="paragraph"> 
      <p>Before Mule can sort order items, it must first create them. A foreach iterative processor feeds each item in the collection (Java map) through the expression component to create an <code>OrderItem</code> object for each cart item (see expression below).</p> 
     </div> 
     <div class="listingblock"> 
      <div class="content"> 
       <pre class="CodeRay highlight"><code data-lang="code">
            
         <table class="CodeRay"> 
          <tbody> 
           <tr> 
            <td class="line-numbers"><pre>1
</pre></td> 
            <td class="code"><pre>#[flowVars['orderSorter'\].sortOrderItem(payload.providerId, new com.mulesoft.example.estore.util.OrderItem(payload.productId, Integer.parseInt(payload.qty)))]</pre></td> 
           </tr> 
          </tbody> 
         </table></code></pre> 
      </div> 
     </div> 
     <div class="paragraph"> 
      <p>Mule then uses another foreach iterative processor and another choice router to break apart the <code>orderSorter</code> collection of <code>orderItems</code>. It then routes individual items to one of two branches according to vendor (see choice router image below).</p> 
     </div> 
     <div class="ulist"> 
      <ul> 
       <li> <p>if the <code>providerID</code> is <code>Barber\’s Paradise Store</code>, Mule routes the message to the first branch off the choice router</p> </li> 
       <li> <p>if the <code>providerID</code> is <code>Van Gogh\’s Paint Store</code>, Mule routes the message to the second branch off the choice router</p> 
        <div class="paragraph"> 
         <p><span class="image"><img src="./_images/choice_orderProvider.png" alt="choice_orderProvider"></span></p> 
        </div> </li> 
      </ul> 
     </div> 
     <div class="paragraph"> 
      <p><strong>View the XML</strong></p> 
     </div> 
     <div class="listingblock"> 
      <div class="content"> 
       <pre class="CodeRay highlight"><code data-lang="code">
            
         <table class="CodeRay"> 
          <tbody> 
           <tr> 
            <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
</pre></td> 
            <td class="code"><pre>&lt;choice doc:name="Choice"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;when expression="#[payload.providerId == 'Barber\'s Paradise Store']"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;data-mapper:transform config-ref="ordertojsonorder" doc:name="Transform internal order repr. to provider repr."/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;http:outbound-endpoint exchange-pattern="request-response" host="localhost" port="9080" path="barbersparadise/placeOrder" doc:name="Place order on Barber's Paradise Store"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/when&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;when expression="#[payload.providerId == 'Van Gogh\'s Paint Store']"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;data-mapper:transform config-ref="ordertodeliveryorder" doc:name="Transform internal order repr. to provider repr."/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;flow-ref name="subflow-placeOrderOnVanGoghPaintStore" doc:name="subflow-placeOrderOnVanGoghPaintStore"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/processor-chain&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/when&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/choice&gt;</pre></td> 
           </tr> 
          </tbody> 
         </table></code></pre> 
      </div> 
     </div> 
     <div class="paragraph"> 
      <p>In both branches, the next message processor, a DataMapper, transforms the order — a Java object — into the format required by the vendor:</p> 
     </div> 
     <div class="ulist"> 
      <ul> 
       <li> <p>for Barber’s Paradise, Mule converts the object to JSON-formatted data (see below, top)</p> </li> 
       <li> <p>for Van Gogh’s Paint, Mule converts the object to a slightly different object (see below, bottom)<br> <span class="image"><img src="./_images/mapped_orders.png" alt="mapped_orders"></span></p> </li> 
      </ul> 
     </div> 
     <div class="paragraph"> 
      <p>Mule then sends the prepared order requests to the two vendors. To Barber’s Paradise, Mule sends the request via the HTTP endpoint in the <strong>doCheckout</strong> flow; to Van Gogh’s Paint, Mule invokes the <strong>subflow-placeOrderOnVanGoghPaintStore</strong> to prepare, then send a SOAP request (see image below).<br> <span class="image"><img src="./_images/place_VanGogh_order.png" alt="place_VanGogh_order"></span></p> 
     </div> 
     <div class="paragraph"> 
      <p><strong>View the XML</strong></p> 
     </div> 
     <div class="listingblock"> 
      <div class="content"> 
       <pre class="CodeRay highlight"><code data-lang="code">
            
         <table class="CodeRay"> 
          <tbody> 
           <tr> 
            <td class="line-numbers"><pre>1
2
3
4
</pre></td> 
            <td class="code"><pre>&lt;sub-flow name="subflow-placeOrderOnVanGoghPaintStore" doc:name="subflow-placeOrderOnVanGoghPaintStore"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;cxf:jaxws-client operation="placeOrder" serviceClass="com.mulesoft.example.estore.clients.provider.vangoghpaintstore.B2BStore" enableMuleSoapHeaders="true" doc:name="Prepare SOAP request"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;http:outbound-endpoint exchange-pattern="request-response" host="localhost" port="9081" path="vangoghpaintstore" doc:name="Invoke SOAP request"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/sub-flow&gt;</pre></td> 
           </tr> 
          </tbody> 
         </table></code></pre> 
      </div> 
     </div> 
     <div class="paragraph"> 
      <p>Each Web service provider responds with an order number, which Mule transforms from an object to a string. Then, using an expression transformer, Mule sets each vendor’s order number into the <code>orders</code> LinkedList variable created earlier in the flow (see image below).<br> <br> <span class="image"><img src="./_images/add_order_numbers.png" alt="add_order_numbers"></span></p> 
     </div> 
     <div class="paragraph"> 
      <p><strong>View the XML</strong></p> 
     </div> 
     <div class="listingblock"> 
      <div class="content"> 
       <pre class="CodeRay highlight"><code data-lang="code">
            
         <table class="CodeRay"> 
          <tbody> 
           <tr> 
            <td class="line-numbers"><pre>1
</pre></td> 
            <td class="code"><pre>&lt;expression-transformer expression="flowVars['orders'].add(&amp;quot;\&amp;quot;&amp;quot; + payload.toString() + &amp;quot;\&amp;quot;&amp;quot;)" doc:name="Add order to orders list"/&gt;</pre></td> 
           </tr> 
          </tbody> 
         </table></code></pre> 
      </div> 
     </div> 
     <div class="paragraph"> 
      <p>The last message processor in the flow, an expression transformer, uses an expression to prepare a message to display to the end user in the browser. The message contains the result of the payment authorization, <code>APPROVED</code>, and an order number for each vendor.</p> 
     </div> 
     <div class="paragraph"> 
      <p>Mule returns the message to the <strong>e-storeFrontend-doCheckout</strong> flow, which uses AJAX to send the response to the end user’s browser.<br> <br> <span class="image"><img src="./_images/doCheckout_browser.png" alt="doCheckout_browser"></span></p> 
     </div> 
    </div> 
   </div> 
  </div> 
  <div class="sect2"> 
   <h3 id="clear-cart-contents"><a class="anchor" href="#clear-cart-contents"></a>Clear Cart Contents</h3> 
   <div class="paragraph"> 
    <p>The E-store application enables users to clear the virtual cart of its contents.</p> 
   </div> 
   <div class="sect3"> 
    <h4 id="e-storefrontend-4"><a class="anchor" href="#e-storefrontend-4"></a>e-storeFrontend</h4> 
    <div class="paragraph"> 
     <p>When a user clicks the <strong>Clear cart contents</strong> button on the GUI, the client-side interface activates the <strong>e-storeFrontend-clearCart</strong> flow in the <code>e-storeFrontend.mflow file</code> (see image below).<br> <br> <span class="image"><img src="./_images/clear_cart_flow.png" alt="clear_cart_flow"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p><strong>View the XML</strong></p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
2
3
4
5
</pre></td> 
           <td class="code"><pre>&lt;flow name="e-storeFrontend-clearCart" doc:name="e-storeFrontend-clearCart"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ajax:inbound-endpoint channel="/estore/clearCart" responseTimeout="10000" doc:name="/estore/clearCart"&gt;&lt;/ajax:inbound-endpoint&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;set-property propertyName="sessionId" value="#[flowVars['cometd.client'].toString()]" doc:name="Set session id from AJAX client id"&gt;&lt;/set-property&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;jms:outbound-endpoint queue="estore.clearCart" connector-ref="Active_MQ" doc:name="Request clear cart to backend"&gt;&lt;/jms:outbound-endpoint&gt;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/flow&gt;</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>The AJAX endpoint listens for a request on the <strong>/estore/clearCart</strong> channel. As in the <strong>e-storeFrontend-addToCart</strong> flow, a property transformer sets a session ID variable on the message. Then, a JMS endpoint sends the message to the <code>estore.clearCart</code> queue in the e-storeBackend.</p> 
    </div> 
   </div> 
   <div class="sect3"> 
    <h4 id="e-storebackend-4"><a class="anchor" href="#e-storebackend-4"></a>e-storeBackend</h4> 
    <div class="paragraph"> 
     <p>The JMS endpoint in the <strong>clearCart</strong> flow listens for requests the <strong>e-storeFrontend-clearCart</strong> flow sends to the <code>estore.clearCart</code> queue (see image below).<br> <span class="image"><img src="./_images/clearCart_flow.png" alt="clearCart_flow"></span></p> 
    </div> 
    <div class="paragraph"> 
     <p><strong>View the XML</strong></p> 
    </div> 
    <div class="listingblock"> 
     <div class="content"> 
      <pre class="CodeRay highlight"><code data-lang="code">
           
        <table class="CodeRay"> 
         <tbody> 
          <tr> 
           <td class="line-numbers"><pre>1
2
3
4
</pre></td> 
           <td class="code"><pre>&lt;flow name="clearCart" doc:name="clearCart"&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;jms:inbound-endpoint queue="estore.clearCart" connector-ref="Active_MQ2" doc:name="JMS"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;jdbc-ee:outbound-endpoint exchange-pattern="one-way" queryKey="query-clearCart" queryTimeout="-1" connector-ref="JDBCConnector" doc:name="Delete cart contents"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/flow&gt;</pre></td> 
          </tr> 
         </tbody> 
        </table></code></pre> 
     </div> 
    </div> 
    <div class="paragraph"> 
     <p>Referencing the global JDBC connector, this flow uses an outbound JDBC endpoint to execute the <code>clearCart</code> query (see images below). In the embedded Derby database, this query deletes the contents of the cart table associated with the end user’s session ID.<br> <br> <span class="image"><img src="./_images/clear_cart_query.png" alt="clear_cart_query"></span></p> 
    </div> 
   </div> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="3rd-party-web-services"><a class="anchor" href="#3rd-party-web-services"></a>3rd-Party Web Services</h2> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p>This example application includes flows which enable the E-store application to function. The <strong>bank</strong>, <strong>provider-vangoghpaint</strong>, and <strong>provider-barbersparadise</strong> flow files consists of several flows and subflows which conspire to provide Web service responses to Web service requests from the <strong>e-storeBackend</strong>. </p> 
  </div> 
  <div class="paragraph"> 
   <p>Without these 3rd-party Web service providers, there would be no mechanism for processing Web service requests in the E-store example application. Ergo, these flows exist to simulate the various real-life Web service providers to which a Web service client might submit a request.</p> 
  </div> 
  <div class="paragraph"> 
   <p>While this document does not explore the 3rd-party Web services in detail, you can examine their contents in Mule Studio. Double-click one of the 3rd-party <code>.mflow</code> files in the <strong>Package Explorer</strong> to open the configuration in a separate canvas tab (see image below). <br> <br> <span class="image"><img src="./_images/bank_open.png" alt="bank_open"></span></p> 
  </div> 
 </div> 
</div> 
<div class="sect1"> 
 <h2 id="related-topics"><a class="anchor" href="#related-topics"></a>Related Topics</h2> 
 <div class="sectionbody"> 
  <div class="ulist"> 
   <ul> 
    <li> <p>For more information on configuring the Anypoint&nbsp;DataMapper, see <a href="/mule-user-guide/v/3.3/datamapper-transformer-reference">DataMapper Transformer Reference</a>.</p> </li> 
    <li> <p>For more information on using the JDBC endpoint, see <a href="/mule-user-guide/v/3.3/database-jdbc-endpoint-reference">JDBC Endpoint Reference</a>.</p> </li> 
    <li> <p>For more information on the Catch Exception Strategies in this example, see <a href="/mule-user-guide/v/3.3/catch-exception-strategy">Catch Exception Strategy</a>.</p> </li> 
    <li> <p>For more information on routing messages, see <a href="/mule-user-guide/v/3.3/choice-flow-control-reference">Choice Flow Control</a>.</p> </li> 
    <li> <p>For more information on setting variables on messages, see <a href="/mule-user-guide/v/3.3/variable-transformer-reference">Variable Transformer</a>.</p> </li> 
    <li> <p>For more information on caching Web service responses, see <a href="/mule-user-guide/v/3.3/cache-scope">Cache Scope</a>.</p> </li> 
    <li> <p>For more information on iterative processing, see <a href="/mule-user-guide/v/3.3/foreach">Foreach</a>.</p> </li> 
    <li> <p>For more information on configuring a SOAP component, see <a href="/mule-user-guide/v/3.3/soap-component-reference">SOAP Component</a>.</p> </li> 
   </ul> 
  </div> 
 </div> 
</div>
        </div>
        <!-- END article-content -->
        <!-- scroll-menu --><div class="col-md-2 scroll-menu-container" data-swiftype-index='false'><div class="scroll-menu">
                <h4>In this topic:</h4>
                <ul><li><a class="scroll-menu-link" href="#assumptions">Assumptions</a></li><li><a class="scroll-menu-link" href="#set-up">Set Up</a></li><li><a class="scroll-menu-link" href="#how-it-works">How it Works</a></li><li><a class="scroll-menu-link" href="#e-store-activities">E-store Activities</a></li><li><a class="scroll-menu-link" href="#3rd-party-web-services">3rd-Party Web Services</a></li><li><a class="scroll-menu-link" href="#related-topics">Related Topics</a></li></ul></div></div><!-- /scroll-menu -->
      </div>
    </div>
    <!-- START footer -->
    <div class="row footer" data-swiftype-index='false'>

    <div class="footer">
        <div class="footer__wrapper">
          <div class="footer__top">
            <a href="http://developer.mulesoft.com/" title="Home" rel="home" class="header__logo" id="logo"><img src="/img/mulesoft-dev-logo.svg" alt="Home" class="header__logo-image" /></a>
              <div class="region region-footer-top">
        <div id="block-menu-menu-footer-menu" class="block block-menu first last odd" role="navigation">

            <h2 class="block__title block-title">Footer Menu</h2>

      <ul class="menu"><li class="menu__item is-expanded first expanded"><a href="https://developer.mulesoft.com/anypoint-platform" title="" class="menu__link">Platform</a><ul class="menu"><li class="menu__item is-leaf first leaf"><a href="https://developer.mulesoft.com/anypoint-platform" title="" class="menu__link">Anypoint Platform Overview</a></li>
    <li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/anypoint-platform#mule" title="" class="menu__link">Mule runtime engine</a></li>
    <li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/anypoint-platform#studio" title="" class="menu__link">Studio</a></li>
    <li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/anypoint-platform#apidesigner" title="" class="menu__link">API Designer</a></li>
    <li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/anypoint-platform#apimanager" title="" class="menu__link">API Manager</a></li>
    <li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/anypoint-platform#apianalytics" title="" class="menu__link">Analytics</a></li>
    <li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/anypoint-platform#connectors" title="" class="menu__link">Connectors</a></li>
    <li class="menu__item is-leaf leaf"><a href="https://developer.mulesoft.com/anypoint-platform#exchange" title="" class="menu__link">Exchange</a></li>
    <li class="menu__item is-leaf last leaf"><a href="https://developer.mulesoft.com/anypoint-platform#aportal" title="" class="menu__link">API Portal</a></li>
    </ul></li>
    <li class="menu__item is-expanded expanded"><a href="https://developer.mulesoft.com/docs" title="" class="menu__link">Documentation</a><ul class="menu"><li class="menu__item is-leaf first leaf"><a href="http://developer.mulesoft.com/docs/display/current/Mule+Fundamentals" title="" class="menu__link">Fundamentals</a></li>
    <li class="menu__item is-leaf leaf"><a href="http://developer.mulesoft.com/docs/display/current/Mule+User+Guide" title="" class="menu__link">Mule User Guide</a></li>
    <li class="menu__item is-leaf leaf"><a href="http://developer.mulesoft.com/docs/display/current/Mule+Management+Console" title="" class="menu__link">Management</a></li>
    <li class="menu__item is-leaf last leaf"><a href="http://developer.mulesoft.com/docs/display/current/Anypoint+Platform+Administration" title="" class="menu__link">Administration</a></li>
    </ul></li>
    <li class="menu__item is-expanded expanded"><a href="http://developer.mulesoft.com/community" title="" class="menu__link">Community</a><ul class="menu"><li class="menu__item is-leaf first leaf"><a href="http://forum.mulesoft.org/" title="" class="menu__link">Forums</a></li>
    <li class="menu__item is-leaf leaf"><a href="http://developer.mulesoft.com/events" title="" class="menu__link">Events</a></li>
    <li class="menu__item is-leaf leaf"><a href="http://developer.mulesoft.com/champions" title="" class="menu__link">Champions</a></li>
    <li class="menu__item is-leaf last leaf"><a href="https://www.mulesoft.org/jira/browse/MULE" title="" class="menu__link">Issue tracker</a></li>
    </ul></li>
    <li class="menu__item is-leaf last leaf"><a href="http://blog.mulesoft.com/" title="" class="menu__link">Blog</a></li>
    </ul>
    </div>
      </div>
            <div class="connect-footer">
              <h2>Sign up for our dev newsletter</h2>
              <script src="//app-abd.marketo.com/js/forms2/js/forms2.min.js"></script>
    <form id="mktoForm_415">
    </form>
    <script>
      MktoForms2.loadForm("//app-abd.marketo.com", "564-SZS-136", 415);
    </script>
      <script>
        MktoForms2.whenReady(function (form){
          // Custom code here
        });
      </script>          <ul class="social-links">
                <li><a href="https://www.linkedin.com/grp/home?gid=6936034" target="_blank" class="icon-muletheme-linkedin"></a></li>
                <li><a href="https://twitter.com/muledev" target="_blank" class="icon-muletheme-twitter"></a></li>
                <li><a href="https://www.facebook.com/MuleSoft" target="_blank" class="icon-muletheme-facebook"></a></li>
                <li><a href="mailto:devrel@mulesoft.com" target="_blank" class="icon-muletheme-email"></a></li>
                <li><a href="" target="_blank" class="icon-muletheme-youtube"></a></li>
              </ul>
            </div>
          </div>

          <div class="footer-bottom-wrapper">

            <div class="terms-conditions temp">


              MuleSoft provides the most widely used integration platform for connecting SaaS and enterprise applications in the cloud and on-premise. Delivered as a packaged integration experience, CloudHub™ and Mule ESB™ (Enterprise Service Bus) are built on proven open source technology for the fastest, most reliable on-premise and cloud integration without vendor lock-in. Read our <a href="https://www.mulesoft.com/privacy-policy" target="_blank"> privacy policy</a>.        </div>

          </div>

        </div>
      </div>

    </div>


      </div>
      <!-- Feedback script -->
      <script>
      // Search field toggle.
      $('.search-icon').click(function(){
          if(!$('#block-search-form .form-item.form-type-searchfield').is(":visible")) {
              $('#block-search-form .form-item.form-type-searchfield').toggle(100, function(){
                  $('.search-icon').css('left', 'auto').css('background-position', '-3px -3px').css('background-size', '130%');
              });
          }
      });

      // Point to site logo.
      $('.header__logo img').attr('src', '/img/mulesoft-dev-logo.svg');

      var ratingId = Math.floor((Math.random() * 9999999999) + 1);

      // Star rating highlight and submit
      $('.helpful li i').click(function(){
          $('.helpful li i').removeClass('star').addClass('star-empty');
          $(this)
              .removeClass('star-empty').addClass('star')
              .prevAll().removeClass('star-empty').addClass('star');
          var rating = $('.star').length;
          ratingPicked = rating;
          postFeedback(ratingId, "star-only", window.location.href, rating);
      });
      $('.helpful li i').mouseenter(function() {
          ratingPicked = $('.star').length;
          $(this)
              .removeClass('star-empty').addClass('star')
              .prevAll().removeClass('star-empty').addClass('star');
      });
      $('.helpful li i').mouseleave(function(){
          var i = 0;
          ratingPicked ? ratingPicked : 0;
          $('.helpful li i').removeClass('star').addClass('star-empty');
          while(i < ratingPicked) {
              $('.helpful li i')
                  .eq(i).removeClass('star-empty').addClass('star');
              i++;
          }
      });

      //Submit comment
      $('.helpful input[type="submit"]').click(function(){
          var rating = $('.star').length;
          var comment = $('.helpful [name="feedback-textarea"]').val();
          if(rating) {
              postFeedback(ratingId, comment, window.location.href, rating);
          }
          else {
              $('.helpful .error').html('Please rate this topic.').attr('style', 'color: #D1344E;');
          }
      });

      //Post feedback function
      function postFeedback(ratingId, comment, url, rating) {
          $.ajax({
              type: 'POST',
              url: '/rate',
              contentType: 'application/json',
              data: '{ "id": ' + ratingId + ', "comment": "' + comment + '", "url": "' + url + '", "rating": ' + rating + ' }',
              xhrFields: {
                  withCredentials: false
              },
              complete: function() {
                  if(comment != 'star-only') {
                      $('.helpful .error').html('Thank you for your feedback!').attr('style', 'color: #16BB64;');
                      $('.helpful input[type="submit"]').attr('disabled', 'disabled');
                  }
                  else {
                      $('.helpful .error').html('Was this topic helpful?').attr('style', 'color: #58595a;');
                  }
              }
          });
      }

      </script>
      <!-- END footer -->
      <!-- Google Tag Manager -->
      <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-SP2R"
      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
      <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-SP2R');</script>
      <!-- End Google Tag Manager -->
      <script type="text/javascript">
  /* Marketo Tracking Script */
    (function() {
        var didInit = false;
        function initMunchkin() {
            if(didInit === false)
            { didInit = true; Munchkin.init('564-SZS-136'); }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded')
            { initMunchkin(); }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
    })();
  </script>
  </body>
</html>
